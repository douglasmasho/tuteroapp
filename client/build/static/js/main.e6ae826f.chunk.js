(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{272:function(e){e.exports=JSON.parse('{"v":"5.5.6","fr":30,"ip":0,"op":40,"w":400,"h":400,"nm":"\u30b3\u30f3\u30dd 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"\u30b7\u30a7\u30a4\u30d7\u30ec\u30a4\u30e4\u30fc 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[200,200,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[400.098,400.098],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"\u6955\u5186\u5f62\u30d1\u30b9 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.235358968377,0.942938089371,0.698732256889,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":1,"ml":4,"bm":0,"nm":"\u7dda 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.882353001015,0.874509983437,0.215685990277,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"\u5857\u308a 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0.049,-0.951],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[58.647,58.647],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u30c8\u30e9\u30f3\u30b9\u30d5\u30a9\u30fc\u30e0"}],"nm":"\u6955\u5186\u5f62 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":10,"s":[0]},{"t":40,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":0,"s":[0]},{"t":30,"s":[100]}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"t":40,"s":[355]}],"ix":3},"m":1,"ix":2,"nm":"\u30d1\u30b9\u306e\u30c8\u30ea\u30df\u30f3\u30b0 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":900,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"\u30b7\u30a7\u30a4\u30d7\u30ec\u30a4\u30e4\u30fc 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[200,200,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[72.736,72.736,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[400.098,400.098],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"\u6955\u5186\u5f62\u30d1\u30b9 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.235358968377,0.942938089371,0.698732256889,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":30,"ix":5},"lc":2,"lj":1,"ml":4,"bm":0,"nm":"\u7dda 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.882353001015,0.874509983437,0.215685990277,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"\u5857\u308a 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0.049,-0.951],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[58.647,58.647],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u30c8\u30e9\u30f3\u30b9\u30d5\u30a9\u30fc\u30e0"}],"nm":"\u6955\u5186\u5f62 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":13,"s":[0]},{"t":31,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":3,"s":[0]},{"t":21,"s":[100]}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"t":31,"s":[355]}],"ix":3},"m":1,"ix":2,"nm":"\u30d1\u30b9\u306e\u30c8\u30ea\u30df\u30f3\u30b0 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":900,"st":0,"bm":0}],"markers":[]}')},511:function(e,t,s){},545:function(e,t,s){"use strict";s.r(t);var c={};s.r(c),s.d(c,"setAuthStatus",(function(){return R})),s.d(c,"setUserDetails",(function(){return F})),s.d(c,"setUserDoc",(function(){return C}));var a=s(30),n=s(2),r=s(53),i=s.n(r),o=s(279),l=s(6),u=s.n(l),d=s(10),b=s(11),j=s(65),m=s(66),h=s(68),x=s(67),p=s(171),O=s.n(p),f=s(0),v=Object(n.createContext)(),g=function(e){Object(h.a)(s,e);var t=Object(x.a)(s);function s(){var e;Object(j.a)(this,s);for(var c=arguments.length,a=new Array(c),n=0;n<c;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).state={socket:O.a.connect("/")},e}return Object(m.a)(s,[{key:"render",value:function(){return console.log(this.state.socket),Object(f.jsx)(v.Provider,{value:this.state.socket,children:this.props.children})}}]),s}(n.Component),N=s(29),y=Object(n.createContext)(),k=function(e){Object(h.a)(s,e);var t=Object(x.a)(s);function s(){var e;Object(j.a)(this,s);for(var c=arguments.length,a=new Array(c),n=0;n<c;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).state={uid:"".concat(Math.round(Math.random()),"-").concat(Object(N.a)(7))},e}return Object(m.a)(s,[{key:"render",value:function(){return Object(f.jsx)(y.Provider,{value:this.state.uid,children:this.props.children})}}]),s}(n.Component),D=s.p+"static/media/trash.1d121ffa.svg",_=s(32),S=s.n(_),q=function(e){var t=e.messageObj,s=e.currentUID,c=e.deleteFunc,a=JSON.parse(t.timestamp);return s===t.author?Object(f.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"},children:Object(f.jsxs)("div",{className:"my-message-container my-message-container--mine",children:[Object(f.jsx)("img",{src:D,alt:"",className:"message__delete","data-id":JSON.stringify(t),onClick:function(e){var t=e.target.dataset.id,s=JSON.parse(t);c(s)}}),Object(f.jsx)("div",{className:"my-messages",children:Object(f.jsx)("p",{className:"message__text message__text--mine",children:t.msg})}),Object(f.jsx)("p",{className:"message__date message__date--mine",children:S()(a).calendar()}),Object(f.jsx)("div",{className:"message__photo message__photo--mine",style:{backgroundImage:"url(".concat(t.authorPic,")")}})]})}):Object(f.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start"},children:Object(f.jsxs)("div",{className:"my-message-container my-message-container--theirs",children:[Object(f.jsx)("div",{className:"recipient-messages",children:Object(f.jsx)("p",{className:"message__text message__text--theirs",children:t.msg})}),Object(f.jsx)("p",{className:"message__date message__date--theirs",children:S()(a).calendar()}),Object(f.jsx)("div",{className:"message__photo message__photo--theirs",style:{backgroundImage:"url(".concat(t.authorPic,")")}})]})})},w=(s.p,s(12)),R=function(e){return{type:"SET_AUTH_STATUS",status:e}},F=function(e){return{type:"SET_DETAILS",details:e}},C=function(e){return{type:"SET_USER_DOC",doc:e}},z=s(9),I=s(4),E=s(16),T=s(271),L=s.n(T),U=s(272),A=function(e){var t,s=e.size,c=void 0===s?"normal":s,a=Object(n.useRef)(),r=Object(n.useRef)(null);switch(Object(n.useEffect)((function(){r.current=L.a.loadAnimation({container:a.current,animationData:U,loop:!0}),r.current.play()}),[]),c){case"normal":t="50rem";break;case"medium":t="10rem";break;case"small":t="2.5rem"}return Object(f.jsx)("div",{className:"loading__container center-hrz",style:{width:t},children:Object(f.jsx)("div",{ref:a,className:"loading"})})},V=s.p+"static/media/arrow-down.26b9f26e.svg",P=Object(w.b)((function(e){return{authStatus:e.authStatus,userDetails:e.userDetails,userDoc:e.userDoc}}),(function(e){return Object(z.a)(c,e)}))((function(e){var t=Object(n.useRef)(null),s=Object(n.useRef)(null),c=Object(n.useState)(!1),a=Object(b.a)(c,2),r=a[0],i=a[1],l=Object(n.useState)(""),j=Object(b.a)(l,2),m=j[0],h=j[1],x=Object(n.useState)([]),p=Object(b.a)(x,2),O=p[0],g=p[1],k=Object(n.useState)([]),D=Object(b.a)(k,2),_=(D[0],D[1],Object(n.useRef)()),S=Object(n.useRef)(null),w=Object(n.useRef)(),R=Object(n.useRef)();R.current=O,t.current=Object(n.useContext)(v),s.current=Object(n.useContext)(y);var F=e.match.params.roomName.split("tutero").find((function(t){return t!==e.userDoc.uid}));Object(n.useEffect)((function(){w.current&&T()}));var C=function(s){var c=new Date,a={msg:s,author:e.userDoc.uid,messageID:Object(N.a)(12),timestamp:JSON.stringify(c),authorPic:e.userDoc.photoURL};t.current.emit("message",a),console.log("sent message"),console.log(t.current);var n=I.a.firestore();function r(){return(r=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.collection("messages").doc(e.match.params.roomName).update({messagesArr:I.a.firestore.FieldValue.arrayUnion(a)});case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){r.apply(this,arguments)}()};if(Object(n.useEffect)((function(){t.current.emit("join room",e.match.params.roomName),t.current.on("message",(function(e){g((function(t){return[].concat(Object(o.a)(t),[e])}))})),t.current.on("delete message",(function(e){!function(e){console.log("the peer deleted"),g((function(t){return t.filter((function(t){return t.messageID!==e.messageID}))}))}(e)}));var s=I.a.firestore();function c(){return(c=Object(d.a)(u.a.mark((function t(){var c,a,n,r,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.collection("users").doc(e.userDoc.uid).get();case 3:if(c=t.sent,a=c.data(),console.log(a),a.dms.some((function(t){return t.convoID===e.match.params.roomName}))){t.next=15;break}return t.next=9,s.collection("users").doc(F).get();case 9:return n=t.sent,r=n.data(),S.current=r,t.next=14,s.collection("users").doc(e.userDoc.uid).update({dms:I.a.firestore.FieldValue.arrayUnion({convoID:e.match.params.roomName,name:r.name,photoURL:r.photoURL})});case 14:t.sent;case 15:return t.next=17,s.collection("users").doc(F).get();case 17:if(i=t.sent,i.data().dms.some((function(t){return t.convoID===e.match.params.roomName}))){t.next=25;break}return console.log(e.userDoc),t.next=23,s.collection("users").doc(F).update({dms:I.a.firestore.FieldValue.arrayUnion({convoID:e.match.params.roomName,name:e.userDoc.name,photoURL:e.userDoc.photoURL})});case 23:t.sent,console.log("addition successful");case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(0),console.log(t.t0);case 30:case"end":return t.stop()}}),t,null,[[0,27]])})))).apply(this,arguments)}function a(){return(a=Object(d.a)(u.a.mark((function t(){var c,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.collection("messages").doc(e.match.params.roomName).get();case 3:if(t.sent.exists){t.next=11;break}return t.next=7,s.collection("messages").doc(e.match.params.roomName).set({messagesArr:[]});case 7:t.sent,i(!0),t.next=17;break;case 11:return t.next=13,s.collection("messages").doc(e.match.params.roomName).get();case 13:c=t.sent,a=c.data().messagesArr,g(a),i(!0);case 17:t.next=21;break;case 19:t.prev=19,t.t0=t.catch(0);case 21:case"end":return t.stop()}}),t,null,[[0,19]])})))).apply(this,arguments)}function n(){return(n=Object(d.a)(u.a.mark((function t(){var c,a,n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.collection("users").doc(e.userDoc.uid).get();case 3:return c=t.sent,a=c.data().dms.find((function(t){return t.convoID===e.match.params.roomName})),console.log(a),t.next=8,s.collection("users").doc(e.userDoc.uid).update({dms:I.a.firestore.FieldValue.arrayRemove(a)});case 8:return t.sent,t.next=11,s.collection("users").doc(F).get();case 11:return n=t.sent,console.log(n.data()),r=n.data().dms.find((function(t){return t.convoID===e.match.params.roomName})),t.next=16,s.collection("users").doc(F).update({dms:I.a.firestore.FieldValue.arrayRemove(r)});case 16:t.sent,t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),console.log(t.t0);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})))).apply(this,arguments)}return function(){c.apply(this,arguments)}(),function(){a.apply(this,arguments)}(),function(){console.log(R.current),0===R.current.length&&function(){n.apply(this,arguments)}()}}),[]),!e.authStatus||!e.userDoc.hasOwnProperty("type"))return Object(f.jsx)(E.a,{to:"/account"});if(!e.match.params.roomName.split("tutero").some((function(t){return t===e.userDoc.uid})))return Object(f.jsx)(E.a,{to:"/account"});var z=function(s){g((function(e){return e.filter((function(e){return e.messageID!==s.messageID}))}));var c=I.a.firestore();function a(){return(a=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.collection("messages").doc(e.match.params.roomName).update({messagesArr:I.a.firestore.FieldValue.arrayRemove(s)});case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}(),t.current.emit("delete message",s)},T=function(){w.current.scrollTo(0,w.current.scrollHeight)};return Object(f.jsx)("div",{className:"screen",children:r?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(f.jsxs)("div",{className:"message-container",ref:w,children:[O.map((function(t){return Object(f.jsx)(q,{messageObj:t,currentUID:e.userDoc.uid,deleteFunc:z},t.messageID)})),Object(f.jsx)("button",{className:"button--round",ref:_,onClick:T,children:Object(f.jsx)("img",{src:V,alt:""})})]}),Object(f.jsx)("div",{children:Object(f.jsx)("form",{className:"message-input u-margin-bottom",onSubmit:function(e){e.preventDefault(),C(m)},children:Object(f.jsx)("div",{children:Object(f.jsxs)("center",{children:[Object(f.jsx)("input",{className:"text-message-input",type:"text",placeholder:"Type a message",onChange:function(e){h(e.target.value)},value:m,required:!0}),Object(f.jsx)("button",{className:"btn",type:"submit",children:"Send"})]})})})})]})}):Object(f.jsx)("div",{className:"center-hrz",children:Object(f.jsx)(A,{})})})})),B=s(85),G=s(273),J=s.n(G),M=function(e){var t=e.userDoc;e.editMode;return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{className:"text-size",children:"Your Tutero details"}),Object(f.jsxs)("p",{className:"text-size",children:["Display Name: ",t.name]}),Object(f.jsxs)("p",{className:"text-size",children:["Your user ID is ",t.uid]}),Object(f.jsxs)("p",{className:"text-size",children:["Type: ",Object(f.jsx)("span",{style:{textTransform:"capitalize"},children:t.type})]}),Object(f.jsx)("br",{}),Object(f.jsx)("p",{className:"text-size",children:"Profile Photo:"}),Object(f.jsx)("div",{className:"center-hrz",children:Object(f.jsx)("div",{style:{backgroundImage:"url(".concat(t.photoURL,")")},className:"profile_pic"})}),Object(f.jsx)("br",{})]})},W=Object(w.b)((function(e){return{authStatus:e.authStatus,userDetails:e.userDetails,userDoc:e.userDoc}}),(function(e){return Object(z.a)(c,e)}))((function(e){var t=Object(n.useState)(""),s=Object(b.a)(t,2),c=s[0],a=s[1],r=Object(n.useState)(""),i=Object(b.a)(r,2),o=i[0],l=i[1],j=Object(n.useState)(""),m=Object(b.a)(j,2),h=m[0],x=m[1],p=Object(n.useState)(0),O=Object(b.a)(p,2),v=O[0],g=O[1],N=Object(n.useRef)(),y=Object(n.useRef)(),k=Object(n.useRef)(),D=Object(n.useRef)(),_=Object(E.f)(),S={signInFlow:"popup",signInOptions:[I.a.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccess:function(){return!1}}},q=function(e){e.target.classList.contains("name")&&l(e.target.value)},w=function(e){"radio"===e.target.type&&x(e.target.id)},R=function(t){if(t.preventDefault(),"tutee"===c){var s=document.querySelectorAll(".tuteeSubs"),a=[];if(s.forEach((function(e){e.checked&&a.push(e.id)})),""===h)D.current.style.display="block",setTimeout((function(){D.current.style.display="none"}),3e3);else if(0===a.length)N.current.style.display="block",setTimeout((function(){N.current.style.display="none"}),3e3);else{var n={type:"tutee",name:o,educationLevel:h,subjects:a,photoURL:e.userDetails.photoURL,uid:e.userDetails.uid,favorites:[],dms:[],requests:[]};function r(){return i.apply(this,arguments)}function i(){return(i=Object(d.a)(u.a.mark((function t(){var s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=I.a.firestore(),t.prev=1,t.next=4,s.collection("users").doc(e.userDetails.uid).set(n);case 4:return t.sent,t.next=7,s.collection("tutees").doc(e.userDetails.uid).set(n);case 7:t.sent,_.push("/"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))).apply(this,arguments)}r()}}else if("tutor"===c){var l=document.querySelectorAll(".credentials"),b=[];l.forEach((function(e){""!==e.value&&b.push(e.value)}));var j=document.querySelectorAll(".specific-sub"),m=[];j.forEach((function(e){""!==e.value&&m.push(e.value)}));var x=document.querySelectorAll(".tutorSubs"),p=[];x.forEach((function(e){e.checked&&p.push(e.value)}));var O=document.querySelectorAll(".tutorLevels"),f=[];if(O.forEach((function(e){e.checked&&f.push(e.value)})),0===p.length){y.current.style.display="block",setTimeout((function(){y.current.style.display="none"}),3e3);var g=document.querySelector("#scrollhere");console.log(g);g.getBoundingClientRect().top,window.scrollY;window.scroll({top:"10px",behavior:"smooth"})}else if(0===f.length)k.current.style.display="block",setTimeout((function(){k.current.style.display="none"}),3e3);else{var S={type:"tutor",name:o,photoURL:e.userDetails.photoURL,categories:p,levels:f,specSubs:m,credentials:b,rate:v,uid:e.userDetails.uid,dms:[],requests:[],rating:[]};function r(){return q.apply(this,arguments)}function q(){return(q=Object(d.a)(u.a.mark((function t(){var s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=I.a.firestore(),t.prev=1,t.next=4,s.collection("users").doc(e.userDetails.uid).set(S);case 4:return t.sent,t.next=7,s.collection("tutors").doc(e.userDetails.uid).set(S);case 7:t.sent,_.push("/"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))).apply(this,arguments)}r()}}};return Object(n.useEffect)((function(){I.a.auth().onAuthStateChanged((function(t){if(e.setAuthStatus(!!t),t){e.setUserDetails(t);var s=I.a.firestore();function c(){return(c=Object(d.a)(u.a.mark((function c(){var a;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,s.collection("users").doc(t.uid).get();case 3:a=c.sent,console.log(a.data()),a.exists?e.setUserDoc(a.data()):e.setUserDoc({}),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(0),console.log(c.t0);case 11:case"end":return c.stop()}}),c,null,[[0,8]])})))).apply(this,arguments)}!function(){c.apply(this,arguments)}()}else e.setUserDetails({}),e.setUserDoc({})}))}),[]),Object(n.useEffect)((function(){console.log(e.userDoc)})),Object(f.jsx)("div",{className:"screen",children:Object(f.jsx)("div",{className:"center-hrz",children:Object(f.jsx)("div",{className:"welcome",children:e.authStatus&&e.userDetails!=={}?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("h1",{className:"google",children:[Object(f.jsx)("span",{style:{color:"#0000FF"},children:"G"}),Object(f.jsx)("span",{style:{color:"#FF0000"},children:"o"}),Object(f.jsx)("span",{style:{color:"#FFD700"},children:"o"}),Object(f.jsx)("span",{style:{color:"#0000FF"},children:"g"}),Object(f.jsx)("span",{style:{color:"#00FF00"},children:"l"}),Object(f.jsx)("span",{style:{color:"#FF0000"},children:"e"})," Account:"]}),Object(f.jsxs)("p",{style:{fontSize:"20px",fontWeight:"bold"},children:["Welcome ",e.userDetails.displayName]}),Object(f.jsx)("button",{className:"button1 button",onClick:function(){console.log("supposed to be signing out"),I.a.auth().signOut()},children:"Sign out"}),e.userDoc.hasOwnProperty("type")?Object(f.jsx)(M,{userDoc:e.userDoc}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{children:[""===c?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{style:{fontSize:"20px",fontWeight:"bold"},children:"What would you like to sign up for?"}),Object(f.jsx)("button",{className:"button2 button",style:{marginRight:"10px"},onClick:function(){a("tutor")},children:"Sign up as a tutor"}),Object(f.jsx)("button",{style:{marginLeft:"10px"},className:"button2 button",onClick:function(){a("tutee")},children:"Sign up as a tutee"})]}):"tutee"===c?Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{className:"button button2",onClick:function(){a("tutor")},children:"Tutor"}),Object(f.jsx)("h2",{className:"text-size",children:"Tutee Form"}),Object(f.jsxs)("form",{id:"tuteeForm",onSubmit:R,children:[Object(f.jsx)("div",{className:"center-hrz u-margin-top",children:Object(f.jsxs)("div",{className:"input-group ",children:[Object(f.jsx)("input",Object(B.a)({type:"text",placeholder:"Enter Display Name",required:!0,id:"nameTutee",onChange:q,className:"name input-text",value:o},"required",!0)),Object(f.jsx)("label",{htmlFor:"nameTutee",className:"input-label",children:"Enter Display Name"}),Object(f.jsx)("br",{})]})}),Object(f.jsx)("p",{className:"text-size",children:"Please enter your current education level/grade"}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("input",{type:"radio",id:"gr-10",name:"level",className:"tuteeLevels radio",onClick:w}),Object(f.jsx)("label",{htmlFor:"gr-10",className:"radio-label",children:"Grade 10"}),Object(f.jsx)("input",{type:"radio",id:"gr-11",name:"level",className:"tuteeLevels radio",onClick:w}),Object(f.jsx)("label",{htmlFor:"gr-11",className:"radio-label",children:"Grade 11"}),Object(f.jsx)("input",{type:"radio",id:"gr-12",name:"level",className:"tuteeLevels radio",onClick:w}),Object(f.jsx)("label",{htmlFor:"gr-12",className:"radio-label",children:"Grade 12"}),Object(f.jsx)("input",{type:"radio",id:"tertiary-under",name:"level",className:"tuteeLevels radio",onClick:w}),Object(f.jsx)("label",{htmlFor:"tertiary-under",className:"radio-label",children:"Tertiary Undergrad"}),Object(f.jsx)("input",{type:"radio",id:"tertiary-post",name:"level",className:"tuteeLevels radio",onClick:w}),Object(f.jsx)("label",{htmlFor:"tertiary-post",className:"radio-label",children:"Tertiary Postgrad"})]}),Object(f.jsx)("p",{className:"red-text",ref:D,style:{display:"none"},children:"Please select one of these options"}),Object(f.jsx)("br",{}),Object(f.jsx)("p",{className:"text-size",children:"Select the Subject Categories you are interested in"}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"grid grid-3",children:[Object(f.jsxs)("div",{className:"checkbox",children:[Object(f.jsx)("p",{className:"text-size",children:"Mathematics"}),Object(f.jsx)("input",{type:"checkbox",id:"maths",className:"tuteeSubs input-checkbox ",value:"maths",style:{display:"none"}}),Object(f.jsx)("label",{htmlFor:"maths",className:"input-checkbox-label",children:Object(f.jsx)("span",{className:"input-checkbox-button"})})]}),Object(f.jsxs)("div",{className:"checkbox",children:[Object(f.jsx)("p",{className:"text-size",children:"English"}),Object(f.jsx)("input",{type:"checkbox",id:"english",className:"tuteeSubs input-checkbox",value:"english",style:{display:"none"}}),Object(f.jsx)("label",{htmlFor:"english",className:"input-checkbox-label",children:Object(f.jsx)("span",{className:"input-checkbox-button"})})]}),Object(f.jsxs)("div",{className:"checkbox",children:[Object(f.jsx)("p",{className:"text-size",children:"Accounting"}),Object(f.jsx)("input",{type:"checkbox",id:"accounting",className:"tuteeSubs input-checkbox",value:"accounting",style:{display:"none"}}),Object(f.jsx)("label",{htmlFor:"accounting",className:"input-checkbox-label",children:Object(f.jsx)("span",{className:"input-checkbox-button"})})]}),Object(f.jsxs)("div",{className:"checkbox",children:[Object(f.jsx)("p",{className:"text-size",children:"Science"}),Object(f.jsx)("input",{type:"checkbox",id:"science",className:"tuteeSubs input-checkbox",value:"science",style:{display:"none"}}),Object(f.jsx)("label",{htmlFor:"science",className:"input-checkbox-label",children:Object(f.jsx)("span",{className:"input-checkbox-button"})})]}),Object(f.jsxs)("div",{className:"checkbox",children:[Object(f.jsx)("p",{className:"text-size",children:"Economics"}),Object(f.jsx)("input",{type:"checkbox",id:"economics",className:"tuteeSubs input-checkbox",value:"economics",style:{display:"none"}}),Object(f.jsx)("label",{htmlFor:"economics",className:"input-checkbox-label",children:Object(f.jsx)("span",{className:"input-checkbox-button"})})]}),Object(f.jsxs)("div",{className:"checkbox",children:[Object(f.jsx)("p",{className:"text-size",children:"Afrikaans"}),Object(f.jsx)("input",{type:"checkbox",id:"afrikaans",className:"tuteeSubs input-checkbox",value:"afrikaans",style:{display:"none"}}),Object(f.jsx)("label",{htmlFor:"afrikaans",className:"input-checkbox-label",children:Object(f.jsx)("span",{className:"input-checkbox-button"})})]})]}),Object(f.jsx)("p",{className:"red-text",ref:N,style:{display:"none"},children:"Please select one of these options"})]}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{className:"button button2",type:"submit",children:"Submit"})]})]}):Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{className:"button button2",onClick:function(){a("tutee")},children:"Tutee"}),Object(f.jsx)("h2",{className:"text-size",children:"Tutor Form"}),Object(f.jsxs)("form",{id:"tutorForm",onSubmit:R,className:"u-margin-top",children:[Object(f.jsx)("input",Object(B.a)({type:"text",placeholder:"Enter Display Name",required:!0,id:"nameTutor",onChange:q,className:"name input-text",value:o},"required",!0)),Object(f.jsx)("label",{htmlFor:"nameTutor",className:"input-label ",children:"Enter Display Name"}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{type:"text",placeholder:"Credentials *",className:"credentials input-text",onChange:q,required:!0,id:"credentials-1"}),Object(f.jsx)("label",{htmlFor:"credentials-1",className:"input-label",children:"Credentials *"}),Object(f.jsx)("input",{type:"text",placeholder:"Credentials (Optional)",className:"credentials input-text",onChange:q,id:"credentials-2"}),Object(f.jsx)("label",{htmlFor:"credentials-2",className:"input-label",children:"Credentials (Optional)"}),Object(f.jsx)("input",{type:"text",placeholder:"Credentials (Optional)",className:"credentials input-text",onChange:q,id:"credentials-3"}),Object(f.jsx)("label",{htmlFor:"credentials-3",className:"input-label",children:"Credentials (Optional)"}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{type:"text",placeholder:"Enter Specific Subject *",className:"specific-sub input-text",onChange:q,required:!0,id:"sub-1"}),Object(f.jsx)("label",{htmlFor:"sub-1",className:"input-label",children:"Enter Specific Subject *"}),Object(f.jsx)("input",{type:"text",placeholder:"Enter Specific Subject (Optional)",className:"specific-sub input-text",onChange:q,id:"sub-2"}),Object(f.jsx)("label",{htmlFor:"sub-2",className:"input-label",children:"Enter Specific Subject (Optional)"}),Object(f.jsx)("input",{type:"text",placeholder:"Enter Specific Subject (Optional)",className:"specific-sub input-text",onChange:q,id:"sub-3"}),Object(f.jsx)("label",{htmlFor:"sub-3",className:"input-label",children:"Enter Specific Subject (Optional)"}),Object(f.jsx)("br",{}),Object(f.jsx)("p",{className:"text-size",children:"Select the Subject Categories you would like to be listed under"}),Object(f.jsx)("div",{className:"center-hrz",children:Object(f.jsxs)("div",{className:"grid grid-3",children:[Object(f.jsxs)("div",{className:"checkbox input-checkbox",children:[Object(f.jsx)("p",{className:"text-size-subs",children:"Mathematics"}),Object(f.jsx)("input",{type:"checkbox",id:"maths",className:"tutorSubs input-checkbox",onChange:q,value:"maths",style:{display:"none"}}),Object(f.jsx)("label",{htmlFor:"maths",className:"input-checkbox-label",children:Object(f.jsx)("span",{className:"input-checkbox-button"})})]}),Object(f.jsxs)("div",{className:"checkbox",children:[Object(f.jsx)("p",{className:"text-size-subs",children:"English"}),Object(f.jsx)("input",{type:"checkbox",id:"english",className:"tutorSubs input-checkbox",value:"english",style:{display:"none"}}),Object(f.jsx)("label",{htmlFor:"english",className:"input-checkbox-label",children:Object(f.jsx)("span",{className:"input-checkbox-button"})})]}),Object(f.jsxs)("div",{className:"checkbox",children:[Object(f.jsx)("p",{className:"text-size-subs",children:"Accounting"}),Object(f.jsx)("input",{type:"checkbox",id:"accounting",className:"tutorSubs input-checkbox",style:{display:"none"},value:"accounting"}),Object(f.jsx)("label",{htmlFor:"accounting",className:"input-checkbox-label",children:Object(f.jsx)("span",{className:"input-checkbox-button"})})]}),Object(f.jsxs)("div",{className:"checkbox",children:[Object(f.jsx)("p",{className:"text-size-subs",children:"Science"}),Object(f.jsx)("input",{type:"checkbox",id:"science",className:"tutorSubs input-checkbox",style:{display:"none"},value:"science"}),Object(f.jsx)("label",{htmlFor:"science",className:"input-checkbox-label",children:Object(f.jsx)("span",{className:"input-checkbox-button"})})]}),Object(f.jsxs)("div",{className:"checkbox",children:[Object(f.jsx)("p",{className:"text-size-subs",children:"Economics"}),Object(f.jsx)("input",{type:"checkbox",id:"economics",className:"tutorSubs input-checkbox",value:"economics",style:{display:"none"}}),Object(f.jsx)("label",{htmlFor:"economics",className:"input-checkbox-label",children:Object(f.jsx)("span",{className:"input-checkbox-button"})})]}),Object(f.jsxs)("div",{className:"checkbox",children:[Object(f.jsx)("p",{className:"text-size-subs",children:"Afrikaans"}),Object(f.jsx)("input",{type:"checkbox",id:"afrikaans",className:"tutorSubs input-checkbox",value:"afrikaans",style:{display:"none"}}),Object(f.jsx)("label",{htmlFor:"afrikaans",className:"input-checkbox-label",children:Object(f.jsx)("span",{className:"input-checkbox-button"})})]})]})}),Object(f.jsx)("div",{id:"scrollhere"}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("p",{className:"text-size",children:"What levels do you tutor?"}),Object(f.jsx)("div",{className:"center-hrz",children:Object(f.jsxs)("div",{className:"grid grid-3",children:[Object(f.jsxs)("div",{className:"checkbox",children:[Object(f.jsx)("p",{className:"text-size-levels",children:"Grade 10"}),Object(f.jsx)("input",{type:"checkbox",id:"gr-10",className:"tutorLevels input-checkbox",value:"gr-10",style:{display:"none"}}),Object(f.jsx)("label",{htmlFor:"gr-10",className:"input-checkbox-label",children:Object(f.jsx)("span",{className:"input-checkbox-button"})})]}),Object(f.jsxs)("div",{className:"checkbox",children:[Object(f.jsx)("p",{className:"text-size-levels",children:"Grade 11"}),Object(f.jsx)("input",{type:"checkbox",id:"gr-11",className:"tutorLevels input-checkbox",value:"gr-11",style:{display:"none"}}),Object(f.jsx)("label",{htmlFor:"gr-11",className:"input-checkbox-label",children:Object(f.jsx)("span",{className:"input-checkbox-button"})})]}),Object(f.jsxs)("div",{className:"checkbox",children:[Object(f.jsx)("p",{className:"text-size-levels",children:"Grade 12"}),Object(f.jsx)("input",{type:"checkbox",id:"gr-12",className:"tutorLevels input-checkbox",value:"gr-12",style:{display:"none"}}),Object(f.jsx)("label",{htmlFor:"gr-12",className:"input-checkbox-label",children:Object(f.jsx)("span",{className:"input-checkbox-button"})})]}),Object(f.jsxs)("div",{className:"checkbox",children:[Object(f.jsx)("p",{className:"text-size-levels",children:"Tertiary Undergrad"}),Object(f.jsx)("input",{type:"checkbox",id:"tertiary-under",className:"tutorLevels input-checkbox",value:"tertiary-under",style:{display:"none"}}),Object(f.jsx)("label",{htmlFor:"tertiary-under",className:"input-checkbox-label",children:Object(f.jsx)("span",{className:"input-checkbox-button"})})]}),Object(f.jsxs)("div",{className:"checkbox",children:[Object(f.jsx)("p",{className:"text-size-levels",children:"Tertiary Postgrad"}),Object(f.jsx)("input",{type:"checkbox",id:"tertiary-post",className:"tutorLevels input-checkbox",value:"tertiary-post",style:{display:"none"}}),Object(f.jsx)("label",{htmlFor:"tertiary-post",className:"input-checkbox-label",children:Object(f.jsx)("span",{className:"input-checkbox-button"})})]})]})}),Object(f.jsx)("p",{className:"red-text",ref:k,style:{display:"none"},children:"Please select at least one level to tutor"}),Object(f.jsx)("p",{className:"red-text",ref:y,style:{display:"none"},children:"Please select at least one category you would like to be listed under"}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{className:"input-text",type:"number",placeholder:"Enter rate per hour (NAD)(subject to a 10% commission for Tutero)",onChange:function(e){return g(e.target.value)},value:v,required:!0}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{className:"button button2",type:"submit",children:"Submit"})]})]}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{})]})})]}):Object(f.jsx)(J.a,{uiConfig:S,firebaseAuth:I.a.auth()})})})})})),H=s(13),Y=(s.p,Object(w.b)((function(e){return{authStatus:e.authStatus,userDetails:e.userDetails,userDoc:e.userDoc}}),(function(e){return Object(z.a)(c,e)}))((function(e){var t=Object(E.f)(),s=Object(n.useRef)(),c=Object(n.useRef)(),r=Object(n.useRef)(""),i=Object(n.useState)(!1),o=Object(b.a)(i,2),l=o[0],j=o[1],m=function(e){switch(e){case"accept":s.current.classList.add("active"),c.current.classList.remove("active");break;case"decline":c.current.classList.add("active"),s.current.classList.remove("active")}},h=function(e){switch(t.push("/account"),console.log("its supposed to push"),e){case"accept":s.current.classList.remove("active");break;case"decline":c.current.classList.remove("active")}},x=Object(n.useRef)(),p=e.requestObj.tutee.uid,O=[];O.push(e.userDoc.uid),"tutor"===e.requestObj.tutee.type?O.unshift("".concat(p,"tutero")):O.push("tutero".concat(p)),x.current="".concat(O.join("")),console.log(x.current);return Object(f.jsxs)("div",{className:"cardRtutor",style:{position:"relative"},children:[Object(f.jsxs)("div",{className:"cardRtutor__topDiv u-margin-bottom",children:[Object(f.jsxs)("div",{className:"cardRtutor__topDiv__info",children:[Object(f.jsx)("div",{className:"cardRtutor__img",style:{backgroundImage:"url(".concat(e.requestObj.tutee.photoURL,")")}}),Object(f.jsxs)("div",{className:"column",children:[Object(f.jsx)("p",{className:"cardRtutor__name",children:e.requestObj.tutee.name}),Object(f.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(f.jsxs)("h1",{className:"cardRtutor__time",children:["Request made ",S()(JSON.parse(e.requestObj.submitTime)).calendar()]})})]})]}),Object(f.jsxs)("div",{className:"cardRtutor__topDiv__buttons",children:[Object(f.jsx)(H.b,{to:"/direct/".concat(x.current),children:Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"buttonn ",title:"send this tutee a direct message",children:"DM"})})}),l?Object(f.jsx)("button",{className:"buttonn buttonn--nohover",children:Object(f.jsx)(A,{size:"medium"})}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"buttonn ",title:"accept this request",onClick:function(){j(!0);var t=I.a.firestore();function s(){return(s=Object(d.a)(u.a.mark((function s(){var c,n,i,o,l,d,b,h,x,O;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,t.collection("users").doc(e.userDoc.uid).get();case 3:return c=s.sent,n=c.data(),s.next=7,t.collection("users").doc(p).get();case 7:return i=s.sent,o=i.data(),console.log(o),console.log(n),l=o.requests.find((function(t){return t.requestID===e.requestObj.requestID})),d=n.requests.find((function(t){return t.requestID===e.requestObj.requestID})),s.next=15,t.collection("users").doc(e.userDoc.uid).update({requests:I.a.firestore.FieldValue.arrayRemove(d)});case 15:return s.sent,s.next=18,t.collection("users").doc(p).update({requests:I.a.firestore.FieldValue.arrayRemove(l)});case 18:return s.sent,b="https://tutero-live.onrender.com/room/".concat(Object(N.a)(12)),r.current=b,h=e.requestObj,x=Object(a.a)(Object(a.a)({},h),{},{status:"accepted",link:b}),delete(O=Object(a.a)(Object(a.a)({},h),{},{status:"accepted",link:b,tutor:n})).tutee,s.next=27,t.collection("users").doc(e.userDoc.uid).update({requests:I.a.firestore.FieldValue.arrayUnion(x)});case 27:return s.sent,s.next=30,t.collection("users").doc(p).update({requests:I.a.firestore.FieldValue.arrayUnion(O)});case 30:s.sent,console.log("It actually worked!"),j(!1),m("accept"),s.next=40;break;case 36:s.prev=36,s.t0=s.catch(0),console.log("You blundered"),console.log(s.t0);case 40:case"end":return s.stop()}}),s,null,[[0,36]])})))).apply(this,arguments)}!function(){s.apply(this,arguments)}()},children:"Accept"})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"buttonn ",title:"decline this request",onClick:function(){j(!0);var t=I.a.firestore();function s(){return(s=Object(d.a)(u.a.mark((function s(){var c,n,r,i,o,l,d,b,h;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,t.collection("users").doc(e.userDoc.uid).get();case 3:return c=s.sent,n=c.data(),s.next=7,t.collection("users").doc(p).get();case 7:return r=s.sent,i=r.data(),console.log(i),console.log(n),o=i.requests.find((function(t){return t.requestID===e.requestObj.requestID})),l=n.requests.find((function(t){return t.requestID===e.requestObj.requestID})),s.next=15,t.collection("users").doc(e.userDoc.uid).update({requests:I.a.firestore.FieldValue.arrayRemove(l)});case 15:return s.sent,s.next=18,t.collection("users").doc(p).update({requests:I.a.firestore.FieldValue.arrayRemove(o)});case 18:return s.sent,d=e.requestObj,b=Object(a.a)(Object(a.a)({},d),{},{status:"declined",link:""}),delete(h=Object(a.a)(Object(a.a)({},d),{},{status:"declined",link:"",tutor:n})).tutee,s.next=25,t.collection("users").doc(e.userDoc.uid).update({requests:I.a.firestore.FieldValue.arrayUnion(b)});case 25:return s.sent,s.next=28,t.collection("users").doc(p).update({requests:I.a.firestore.FieldValue.arrayUnion(h)});case 28:s.sent,console.log("It actually worked!"),j(!1),m("decline"),s.next=38;break;case 34:s.prev=34,s.t0=s.catch(0),console.log("You blundered"),console.log(s.t0);case 38:case"end":return s.stop()}}),s,null,[[0,34]])})))).apply(this,arguments)}!function(){s.apply(this,arguments)}()},children:"Decline"})})]})]})]}),Object(f.jsxs)("div",{className:"cardRtutor__bottomDiv",children:[l?Object(f.jsx)(A,{size:"medium"}):"accepted"===e.requestObj.status?Object(f.jsx)("p",{className:"normal-text",children:"Accepted"}):"declined"===e.requestObj.status?Object(f.jsx)("p",{className:"normal-text red-text",children:"Declined"}):Object(f.jsx)("p",{className:"normal-text",children:"Pending"}),Object(f.jsx)("p",{className:"cardRtutor__info u-margin-bottom",children:e.requestObj.subject}),Object(f.jsxs)("p",{className:"cardRtutor__info u-margin-bottom",children:["Requested date and time: ",S()(JSON.parse(e.requestObj.requestedDateTime)).calendar()]}),Object(f.jsx)("div",{children:""!==e.requestObj.link?Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{className:"cardRtutor__info u-margin-bottom",children:"Tutorial Link:"}),Object(f.jsx)("a",{href:e.requestObj.link,target:"_blank",className:"normal-text green-text ",style:{backgroundColor:"#1e1e1e",padding:"1rem",borderRadius:"20px"},children:e.requestObj.link})]}):null})]}),Object(f.jsxs)("div",{className:"modal",ref:s,children:[Object(f.jsx)("button",{className:"close-button",onClick:function(){h("accept")},children:"\xd7"}),Object(f.jsxs)("div",{style:{textAlign:"center"},className:"u-margin-bottom",children:[Object(f.jsxs)("p",{className:"white-text bigger-text",children:["A tutorial room link has been sent to ",e.requestObj.tutee.name]}),Object(f.jsx)("small",{className:"normal-text white-text",children:"Visit this link to start the virtual tutorial (make sure the tutee visits the same link)"})," ",Object(f.jsx)("br",{}),Object(f.jsx)("a",{className:"normal-text green-text",href:r.current,target:"_blank",children:r.current})]}),Object(f.jsx)("div",{className:"center-hrz",children:Object(f.jsx)("button",{className:"buttonn",onClick:function(){h("accept")},children:"OK"})})]}),Object(f.jsxs)("div",{className:"modal",ref:c,children:[Object(f.jsx)("button",{className:"close-button",onClick:function(){h("decline")},children:"\xd7"}),Object(f.jsxs)("div",{style:{textAlign:"center"},className:"u-margin-bottom",children:[Object(f.jsxs)("p",{className:"white-text bigger-text",children:["You have Declined ",e.requestObj.tutee.name,"'s tutorial request"]}),Object(f.jsx)("button",{className:"buttonn",onClick:function(){h("decline")},children:"OK"})]})]})]})}))),K=(s(332),Object(w.b)((function(e){return{authStatus:e.authStatus,userDetails:e.userDetails,userDoc:e.userDoc}}),(function(e){return Object(z.a)(c,e)}))((function(e){Object(n.useRef)();Object(n.useEffect)((function(){var t=I.a.firestore();function s(){return(s=Object(d.a)(u.a.mark((function s(){var c,a;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,t.collection("users").doc(e.userDoc.uid).get();case 3:c=s.sent,a=c.data(),e.setUserDoc(a),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(0),console.log(s.t0);case 11:case"end":return s.stop()}}),s,null,[[0,8]])})))).apply(this,arguments)}!function(){s.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){console.log(e.userDoc.requests)}),[]);var t=function(e){return new Date(JSON.parse(e)).getTime()};return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"center-hrz text-size center-vert--row u-margin-bottom",children:[Object(f.jsx)("div",{style:{backgroundImage:"url(".concat(e.userDetails.photoURL,")")},className:"profile_pic"}),Object(f.jsx)("div",{style:{margin:"40px 0px 0px 20px"},children:Object(f.jsxs)("p",{children:["Hello,",Object(f.jsx)("br",{}),Object(f.jsx)("span",{style:{fontWeight:"bold"},children:e.userDetails.displayName})]})})]}),Object(f.jsxs)("section",{id:"requestsTutor",children:[Object(f.jsx)("div",{className:"center-hrz",children:Object(f.jsx)("h1",{className:"screen__header",children:"Tutorial requests"})}),Object(f.jsx)("div",{className:"center-hrz--col",children:e.userDoc.requests?0!==e.userDoc.requests.length?e.userDoc.requests.map((function(e){return e})).sort((function(e,s){return t(s.submitTime)-t(e.submitTime)})).map((function(e){return Object(f.jsx)(Y,{requestObj:e},e.requestID)})):Object(f.jsx)("p",{className:"bigger-text",style:{backgroundColor:"white",padding:"1rem",borderRadius:"20px"},children:"No Requests"}):null})]})]})}))),X=s(280),Q=function(e){var t=e.otherUser,s=e.myUID,c=[];c.push(s),"tutor"===t.type?c.unshift("".concat(t.uid,"tutero")):c.push("tutero".concat(t.uid));var a="".concat(c.join(""));return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly",backgroundColor:"white",margin:"10px",boxShadow:"0px 0px 20px 10px rgba(51,51,51,0.1)",padding:"10px",width:"80vw",marginRight:"auto",marginLeft:"auto"},children:[Object(f.jsxs)("p",{style:{color:"black",backgroundColor:"grey",padding:"10px",margin:"30px"},children:["uid: ",t.uid]}),Object(f.jsx)("div",{style:{width:"100px",height:"100px",backgroundColor:"lime",borderRadius:"50%",border:"2px solid black"}}),Object(f.jsx)(H.b,{to:"/direct/".concat(a),style:{color:"black",backgroundColor:"#00BFFF",padding:"10px",margin:"30px",borderRadius:"5px",textDecoration:"none"},children:"Direct Message"})]})})},$=(Object(w.b)((function(e){return{authStatus:e.authStatus,userDetails:e.userDetails,userDoc:e.userDoc}}),(function(e){return Object(z.a)(c,e)}))((function(e){var t=e.type,s=Object(X.a)(e,["type"]),c=Object(n.useState)([]),a=Object(b.a)(c,2),r=a[0],i=a[1];return Object(n.useEffect)((function(){var e=I.a.firestore();function s(){return(s=Object(d.a)(u.a.mark((function t(s){var c,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.collection("".concat(s,"s")).get();case 2:c=t.sent,a=c.docs.map((function(e){return e.data()})),console.log(a),i(a);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(e){s.apply(this,arguments)}(t)}),[]),Object(n.useEffect)((function(){console.log(r)})),Object(f.jsxs)("div",{children:[Object(f.jsxs)("h1",{children:["A list of ","".concat(t,"s")," to DM"]}),r.map((function(e){return Object(f.jsx)(Q,{otherUser:e,myUID:s.userDoc.uid})}))]})})),function(e){return Object(f.jsx)(H.b,{to:"/subject/".concat(e.subject),children:Object(f.jsx)("div",{className:"selected-subjects text-size",children:Object(f.jsx)("p",{className:"tutee-subject-card-names",children:e.subject})})})}),Z=s(275),ee=Object(w.b)((function(e){return{authStatus:e.authStatus,userDetails:e.userDetails,userDoc:e.userDoc}}),(function(e){return Object(z.a)(c,e)}))((function(e){var t=Object(E.f)(),s=Object(n.useRef)(),c=(Object(n.useRef)(),Object(n.useRef)(""),Object(n.useState)(!1)),a=Object(b.a)(c,2),r=a[0],i=a[1],o=Object(n.useRef)(),l=e.requestObj.tutor.uid,j=[],m=Object(n.useState)(0),h=Object(b.a)(m,2),x=h[0],p=h[1];j.push(e.userDoc.uid),"tutor"===e.requestObj.tutor.type?j.unshift("".concat(l,"tutero")):j.push("tutero".concat(l)),o.current="".concat(j.join(""));return Object(f.jsxs)("div",{className:"cardRtutee",style:{position:"relative"},children:[Object(f.jsxs)("div",{className:"cardRtutee__topDiv u-margin-bottom",children:[Object(f.jsxs)("div",{className:"cardRtutee__topDiv__info",children:[Object(f.jsx)("div",{className:"cardRtutee__img",style:{backgroundImage:"url(".concat(e.requestObj.tutor.photoURL,")")}}),Object(f.jsxs)("div",{className:"column",children:[Object(f.jsx)("p",{className:"cardRtutee__name",children:e.requestObj.tutor.name}),Object(f.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(f.jsxs)("h1",{className:"cardRtutee__time",children:["Request made ",S()(JSON.parse(e.requestObj.submitTime)).calendar()]})})]})]}),Object(f.jsx)("div",{className:"cardRtutee__topDiv__buttons",children:Object(f.jsx)("div",{children:Object(f.jsx)(H.b,{to:"/direct/".concat(o.current),children:Object(f.jsx)("button",{className:"buttonn ",title:"send this tutor a direct message",children:"DM"})})})})]}),Object(f.jsxs)("div",{className:"cardRtutee__bottomDiv",children:[Object(f.jsxs)("p",{className:"cardRtutee__info u-margin-bottom",children:["Status: ",e.requestObj.status]}),"accepted"===e.requestObj.status?Object(f.jsxs)("div",{className:"u-margin-bottom",children:[Object(f.jsxs)("div",{className:"u-margin-bottom",children:[Object(f.jsx)("p",{className:"cardRtutee__info u-margin-bottom",children:"Visit this link to start the virtual tutorial (make sure the tutee visits the same link)"}),Object(f.jsx)("a",{href:e.requestObj.link,target:"_blank",className:"normal-text green-text ",style:{backgroundColor:"#1e1e1e",padding:"1rem",borderRadius:"20px"},children:e.requestObj.link})]}),Object(f.jsx)("button",{className:"buttonn",onClick:function(){console.log("its supposed to open"),s.current.classList.add("active"),console.log("to the base")},children:"Confirm Tutorial"})]}):r?Object(f.jsx)("button",{className:"buttonn buttonn--nohover",children:Object(f.jsx)(A,{size:"medium"})}):Object(f.jsx)("button",{className:"buttonn",onClick:function(){i(!0);var s=I.a.firestore();function c(){return(c=Object(d.a)(u.a.mark((function c(){var a,n,r,o;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,s.collection("users").doc(e.userDoc.uid).get();case 3:return a=c.sent,n=a.data().requests.find((function(t){return t.requestID===e.requestObj.requestID})),console.log(n),console.log(a.data().requests),c.next=9,s.collection("users").doc(e.userDoc.uid).update({requests:I.a.firestore.FieldValue.arrayRemove(n)});case 9:return c.sent,c.next=12,s.collection("users").doc(l).get();case 12:return r=c.sent,o=r.data().requests.find((function(t){return t.requestID===e.requestObj.requestID})),console.log(r.data()),c.next=17,s.collection("users").doc(l).update({requests:I.a.firestore.FieldValue.arrayRemove(o)});case 17:c.sent,i(!1),console.log("we did it"),t.push("/account"),c.next=26;break;case 23:c.prev=23,c.t0=c.catch(0),console.log(c.t0);case 26:case"end":return c.stop()}}),c,null,[[0,23]])})))).apply(this,arguments)}console.log(I.a),function(){c.apply(this,arguments)}()},children:"Delete Request"}),Object(f.jsxs)("p",{className:"cardRtutor__info u-margin-top",children:["Requested date and time: ",S()(JSON.parse(e.requestObj.requestedDateTime)).calendar()]})]}),Object(f.jsxs)("div",{className:"modal",ref:s,children:[r?Object(f.jsx)(A,{size:"small"}):Object(f.jsx)("button",{className:"close-button",onClick:function(){s.current.classList.remove("active")},children:"\xd7"}),Object(f.jsxs)("div",{style:{textAlign:"center"},className:"u-margin-bottom",children:[Object(f.jsx)("p",{className:"white-text bigger-text",children:"Rate the tutor"}),Object(f.jsx)("small",{className:"normal-text white-text",children:"By rating the tutor, you are confirming that the tutorial happened and you are satisfied with it. The funds will then be transferred to the tutor"})]}),Object(f.jsxs)("div",{className:"center-hrz--col",children:[Object(f.jsx)(Z.Rating,{onClick:function(e){p(e)},ratingValue:x}),Object(f.jsxs)("p",{className:"white-text normal-text",children:[x,"/5"]}),r?Object(f.jsx)("button",{className:"buttonn buttonn--nohover",children:Object(f.jsx)(A,{size:"medium"})}):0!==x?Object(f.jsx)("button",{className:"buttonn buttonn--flipped u-margin-top",onClick:function(){i(!0);var s=I.a.firestore();function c(){return(c=Object(d.a)(u.a.mark((function c(){var a,n,r,o;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,s.collection("tutors").doc(l).update({rating:I.a.firestore.FieldValue.arrayUnion({rating:x,id:Object(N.a)(12)})});case 3:return c.sent,c.next=6,s.collection("users").doc(e.userDoc.uid).get();case 6:return a=c.sent,n=a.data().requests.find((function(t){return t.requestID===e.requestObj.requestID})),console.log(n),console.log(a.data().requests),c.next=12,s.collection("users").doc(e.userDoc.uid).update({requests:I.a.firestore.FieldValue.arrayRemove(n)});case 12:return c.sent,c.next=15,s.collection("users").doc(l).get();case 15:return r=c.sent,o=r.data().requests.find((function(t){return t.requestID===e.requestObj.requestID})),console.log(r.data()),c.next=20,s.collection("users").doc(l).update({requests:I.a.firestore.FieldValue.arrayRemove(o)});case 20:c.sent,i(!1),console.log("we did it"),t.push("/account"),c.next=29;break;case 26:c.prev=26,c.t0=c.catch(0),console.log(c.t0);case 29:case"end":return c.stop()}}),c,null,[[0,26]])})))).apply(this,arguments)}console.log(I.a),function(){c.apply(this,arguments)}()},children:"Confirm and rate"}):null]})]})]})})),te=Object(w.b)((function(e){return{authStatus:e.authStatus,userDetails:e.userDetails,userDoc:e.userDoc}}),(function(e){return Object(z.a)(c,e)}))((function(e){var t=Object(n.useState)(!1),s=Object(b.a)(t,2),c=s[0],a=s[1],r=Object(n.useState)(!1),i=Object(b.a)(r,2),o=i[0],l=i[1],j=[];j.push(e.userDoc.uid),"tutor"===e.userObj.type?j.unshift("".concat(e.userObj.uid,"tutero")):j.push("tutero".concat(e.userObj.uid));var m="".concat(j.join(""));Object(n.useEffect)((function(){var t=e.userDoc.favorites.some((function(t){return t===e.userObj.uid}));a(t)}),[]);var h=function(){var t=e.userObj.rating;return console.log(t),0!==t.length?t.reduce((function(e,t){return e+t.rating}),0)/t.length:""};return Object(f.jsxs)("div",{className:"card",children:[Object(f.jsxs)("div",{className:"card__topDiv",children:[Object(f.jsxs)("div",{className:"card__topDiv__info",children:[Object(f.jsx)("div",{className:"card__img",style:{backgroundImage:"url(".concat(e.photoURL,")")}}),Object(f.jsxs)("div",{className:"column",children:[Object(f.jsx)("p",{className:"card__name",children:e.name}),Object(f.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(f.jsxs)("h1",{className:"card__price",children:["N$ ",e.userObj.rate,Object(f.jsx)("span",{children:"/hr"})]}),Object(f.jsx)("div",{className:"card__rating",children:""==!h()?Object(f.jsxs)("p",{className:"card__rating",children:[h(),"/5",Object(f.jsx)("i",{className:"fa fa-star star card__star","aria-hidden":"true"})]}):null})]})]})]}),Object(f.jsxs)("div",{className:"card__topDiv__buttons",children:[Object(f.jsx)("div",{children:Object(f.jsx)(H.b,{to:"/direct/".concat(m),children:Object(f.jsx)("button",{className:"buttonn button-tutor-card-small-screen",title:"send this tutor a direct message",onClick:function(){console.log(m)},children:"DM"})})}),Object(f.jsx)("div",{children:Object(f.jsx)(H.b,{to:"/request/".concat(e.userObj.uid),children:Object(f.jsx)("button",{className:"buttonn button-tutor-card-small-screen",title:"request a tutorial",children:"Request"})})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"buttonn button-tutor-card-small-screen",onClick:function(){var t=I.a.firestore();function s(){return(s=Object(d.a)(u.a.mark((function s(){return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,!c){s.next=10;break}return s.next=4,t.collection("users").doc(e.userDoc.uid).update({favorites:I.a.firestore.FieldValue.arrayRemove(e.userObj.uid)});case 4:return s.sent,s.next=7,t.collection("tutees").doc(e.userDoc.uid).update({favorites:I.a.firestore.FieldValue.arrayRemove(e.userObj.uid)});case 7:s.sent,s.next=16;break;case 10:return s.next=12,t.collection("users").doc(e.userDoc.uid).update({favorites:I.a.firestore.FieldValue.arrayUnion(e.userObj.uid)});case 12:return s.sent,s.next=15,t.collection("tutees").doc(e.userDoc.uid).update({favorites:I.a.firestore.FieldValue.arrayUnion(e.userObj.uid)});case 15:s.sent;case 16:console.log("changeFave worked"),n(),s.next=23;break;case 20:s.prev=20,s.t0=s.catch(0),console.log(s.t0);case 23:case"end":return s.stop()}}),s,null,[[0,20]])})))).apply(this,arguments)}function n(){return r.apply(this,arguments)}function r(){return(r=Object(d.a)(u.a.mark((function s(){var c,n;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,t.collection("users").doc(e.userDoc.uid).get();case 3:c=s.sent,n=c.data(),e.setUserDoc(n),console.log("getUserObj worked"),a((function(e){return!e})),l(!1),console.log(e.userDoc),s.next=15;break;case 12:s.prev=12,s.t0=s.catch(0),console.log(s.t0);case 15:case"end":return s.stop()}}),s,null,[[0,12]])})))).apply(this,arguments)}l(!0),function(){s.apply(this,arguments)}()},title:c?"Remove from favorites":"Add to favorites",children:o?Object(f.jsx)(A,{size:"small"}):c?Object(f.jsx)("i",{className:"fas fa-heart"}):Object(f.jsx)("i",{className:"far fa-heart"})})})]})]}),Object(f.jsx)("div",{className:"card__bottomDiv",children:Object(f.jsxs)("div",{className:"grid grid-2",children:[Object(f.jsxs)("div",{className:"card__list",children:[Object(f.jsx)("h3",{className:"card__list__header",children:"Specific subjects"}),Object(f.jsx)("ul",{className:"card__list__list",children:e.userObj.specSubs.map((function(e){return Object(f.jsx)("li",{className:"capitalize",children:e},e)}))})]}),Object(f.jsxs)("div",{className:"card__list",children:[Object(f.jsx)("h3",{className:"card__list__header",children:"General subjects"}),Object(f.jsx)("ul",{className:"card__list__list",children:e.userObj.categories.map((function(e){return Object(f.jsx)("li",{className:"capitalize",children:e},e)}))})]}),Object(f.jsxs)("div",{className:"card__list",children:[Object(f.jsx)("h3",{className:"card__list__header",children:"Credentials"}),Object(f.jsx)("ul",{className:"card__list__list",children:e.userObj.credentials.map((function(e){return Object(f.jsx)("li",{className:"capitalize",children:e},e)}))})]}),Object(f.jsxs)("div",{className:"card__list",children:[Object(f.jsx)("h3",{className:"card__list__header",children:"Levels Tutored"}),Object(f.jsx)("ul",{className:"card__list__list",children:e.userObj.levels.map((function(e){return Object(f.jsx)("li",{className:"capitalize",children:e},e)}))})]})]})})]})})),se=Object(w.b)((function(e){return{authStatus:e.authStatus,userDetails:e.userDetails,userDoc:e.userDoc}}),(function(e){return Object(z.a)(c,e)}))((function(e){var t=Object(n.useState)(null),s=Object(b.a)(t,2),c=s[0],a=s[1];return Object(n.useEffect)((function(){console.log(e.userID);var t=I.a.firestore();function s(){return(s=Object(d.a)(u.a.mark((function s(){var c,n;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,t.collection("tutors").doc(e.userID).get();case 3:c=s.sent,n=c.data(),a(n),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(0),console.log(s.t0);case 11:case"end":return s.stop()}}),s,null,[[0,8]])})))).apply(this,arguments)}!function(){s.apply(this,arguments)}()}),[]),Object(f.jsx)("div",{className:"center-hrz",children:c?Object(f.jsx)(te,{name:c.name,photoURL:c.photoURL,uid:c.uid,userObj:c},c.uid):Object(f.jsx)("div",{className:"card",style:{backgroundColor:"#1e1e1e"},children:Object(f.jsx)(A,{size:"medium"})})})})),ce=Object(w.b)((function(e){return{authStatus:e.authStatus,userDetails:e.userDetails,userDoc:e.userDoc}}),(function(e){return Object(z.a)(c,e)}))((function(e){Object(n.useEffect)((function(){var t=I.a.firestore();function s(){return(s=Object(d.a)(u.a.mark((function s(){var c,a;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,t.collection("users").doc(e.userDoc.uid).get();case 3:c=s.sent,a=c.data(),e.setUserDoc(a),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(0),console.log(s.t0);case 11:case"end":return s.stop()}}),s,null,[[0,8]])})))).apply(this,arguments)}!function(){s.apply(this,arguments)}()}),[]);var t=function(e){return new Date(JSON.parse(e)).getTime()};return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"center-hrz text-size center-vert--row",children:[Object(f.jsx)("div",{style:{backgroundImage:"url(".concat(e.userDetails.photoURL,")")},className:"profile_pic"}),Object(f.jsx)("div",{style:{margin:"40px 0px 0px 20px"},children:Object(f.jsxs)("p",{children:["Hello,",Object(f.jsx)("br",{}),Object(f.jsx)("span",{style:{fontWeight:"bold"},children:e.userDetails.displayName})]})})]}),Object(f.jsx)("h1",{className:"center-hrz text-size",style:{marginTop:"20px"},children:"What would you like to learn today?"}),Object(f.jsx)("div",{className:"grid grid-3 subjects-parent",children:e.userDoc.subjects.map((function(e){return Object(f.jsx)($,{subject:e},e)}))}),Object(f.jsxs)("section",{id:"requestsTutee",className:"u-margin-bottom-big",children:[Object(f.jsx)("div",{className:"center-hrz",children:Object(f.jsx)("h1",{className:"screen__header",children:"Tutorial requests you made"})}),Object(f.jsx)("div",{className:"center-hrz--col",children:e.userDoc.requests?0!==e.userDoc.requests.length?e.userDoc.requests.map((function(e){return e})).sort((function(e,s){return t(s.submitTime)-t(e.submitTime)})).map((function(e){return Object(f.jsx)(ee,{requestObj:e},e.requestID)})):Object(f.jsx)("p",{className:"bigger-text",style:{backgroundColor:"white",padding:"1rem",borderRadius:"20px"},children:"No Requests"}):null})]}),Object(f.jsxs)("section",{id:"faveTutors",children:[Object(f.jsx)("div",{className:"center-hrz",children:Object(f.jsx)("h1",{className:"screen__header",children:"Your Favorite Tutors"})}),Object(f.jsx)("div",{className:"",children:e.userDoc.favorites?0!==e.userDoc.favorites.length?e.userDoc.favorites.map((function(e){return Object(f.jsx)(se,{userID:e},e)})):Object(f.jsx)("p",{className:"bigger-text",style:{backgroundColor:"white",padding:"1rem",borderRadius:"20px"},children:"No Favorites"}):null})]})]})})),ae=Object(w.b)((function(e){return{authStatus:e.authStatus,userDetails:e.userDetails,userDoc:e.userDoc}}),(function(e){return Object(z.a)(c,e)}))((function(e){return Object(n.useEffect)((function(){console.log(e.userDetails)})),console.log(I.a.auth().currentUser),e.authStatus&&e.userDoc.hasOwnProperty("type")?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"screen",children:Object(f.jsx)("div",{className:"Home",children:"tutor"===e.userDoc.type?Object(f.jsx)(K,{}):Object(f.jsx)(ce,{})})})}):Object(f.jsx)(E.a,{to:"/account"})})),ne=s(172),re=Object(w.b)((function(e){return{authStatus:e.authStatus,userDetails:e.userDetails,userDoc:e.userDoc}}),(function(e){return Object(z.a)(c,e)}))((function(e){var t=e.match.params.subject,s=Object(n.useState)(),c=Object(b.a)(s,2),a=c[0],r=c[1];return Object(n.useEffect)((function(){var s=I.a.firestore();function c(){return(c=Object(d.a)(u.a.mark((function e(){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.collection("tutors").where("categories","array-contains",t).get();case 3:c=e.sent,a=[],c.docs.forEach((function(e){console.log(e.data()),a.push(e.data())})),r(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function a(){return(a=Object(d.a)(u.a.mark((function t(){var c,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.collection("users").doc(e.userDoc.uid).get();case 3:c=t.sent,a=c.data(),e.setUserDoc(a),console.log("getUserObj worked"),console.log(e.userDoc),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}!function(){c.apply(this,arguments)}(),function(){a.apply(this,arguments)}()}),[]),e.authStatus&&e.userDoc.hasOwnProperty("type")?"tutee"!==e.userDoc.type?Object(f.jsx)(E.a,{to:"/account"}):Object(f.jsxs)("div",{className:"screen",children:[Object(f.jsx)("div",{className:"center-hrz",children:Object(f.jsxs)("h1",{className:"screen__header",children:[e.match.params.subject," Tutors"]})}),Object(f.jsx)("div",{className:"center-hrz--col",children:a&&0!==a.length?a.map((function(e){return Object(f.jsx)(te,{name:e.name,photoURL:e.photoURL,uid:e.uid,userObj:e},e.uid)})):Object(f.jsx)(A,{})})]}):Object(f.jsx)(E.a,{to:"/account"})})),ie=s.p+"static/media/tutero.0e021331.svg",oe=s.p+"static/media/back.11247364.svg",le=s.p+"static/media/menu.62017810.svg",ue=s(117),de=function(e){Object(h.a)(s,e);var t=Object(x.a)(s);function s(){var e;return Object(j.a)(this,s),(e=t.call(this)).linkClick=e.linkClick.bind(Object(ue.a)(e)),e}return Object(m.a)(s,[{key:"linkClick",value:function(e){var t=document.querySelector(".activeLink");t&&t.classList.remove("activeLink"),e.currentTarget.classList.add("activeLink")}},{key:"componentDidMount",value:function(){var e=this;document.querySelectorAll(".menu--link").forEach((function(t){t.addEventListener("click",e.linkClick)}))}},{key:"render",value:function(){return Object(f.jsxs)("div",{className:"menu--container",children:[Object(f.jsxs)("label",{htmlFor:"smenu-1",className:"menu--sub",children:[Object(f.jsx)("i",{className:"fas fa-home menu__icon"}),"Home"]}),Object(f.jsx)("input",{type:"checkbox",id:"smenu-1",className:"checkBox"}),Object(f.jsxs)("div",{className:"menu--content menu--content__1",children:[Object(f.jsx)(H.b,{className:"menu--link",to:"/",children:"Dashboard"}),Object(f.jsx)(H.b,{className:"menu--link",to:"/directs",children:"Direct Messages"}),Object(f.jsx)(H.b,{className:"menu--link",to:"/createRoom",children:"Create Room"})]}),Object(f.jsxs)("label",{htmlFor:"smenu-2",className:"menu--sub",children:[Object(f.jsx)("i",{className:"far fa-user menu__icon"}),"User"]}),Object(f.jsx)("input",{type:"checkbox",id:"smenu-2",className:"checkBox"}),Object(f.jsx)("div",{className:"menu--content menu--content__2",children:Object(f.jsx)(H.b,{className:"menu--link",to:"/account",children:Object(f.jsx)("span",{children:"My Account"})})})]})}}]),s}(n.Component),be=function(e){var t=Object(n.useState)(""),s=Object(b.a)(t,2),c=s[0],a=s[1],r=Object(n.useState)(""),i=Object(b.a)(r,2),o=i[0],l=i[1];return Object(n.useEffect)((function(){var t=I.a.firestore();function s(){return(s=Object(d.a)(u.a.mark((function s(){var c,n,r,i;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,t.collection("messages").doc(e.convoObj.convoID).get();case 3:c=s.sent,n=c.data().messagesArr,r=n[n.length-1].msg,i=n[n.length-1].timestamp,a(r),l(JSON.parse(i)),s.next=14;break;case 11:s.prev=11,s.t0=s.catch(0),console.log(s.t0);case 14:case"end":return s.stop()}}),s,null,[[0,11]])})))).apply(this,arguments)}!function(){s.apply(this,arguments)}()}),[]),Object(f.jsxs)("div",{className:"messageThumb u-margin-bottom",children:[Object(f.jsx)("div",{style:{backgroundImage:"url(".concat(e.convoObj.photoURL,")")},className:"messageThumb__image"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{className:"messageThumb__name",children:e.convoObj.name}),Object(f.jsx)("p",{className:"messageThumb__message",children:c}),Object(f.jsx)("p",{className:"messageThumb__time",children:S()(o).calendar()})]}),Object(f.jsx)("div",{children:Object(f.jsx)(H.b,{to:"/direct/".concat(e.convoObj.convoID),children:Object(f.jsx)("button",{className:"buttonn",children:"DM"})})})]})},je=Object(w.b)((function(e){return{authStatus:e.authStatus,userDetails:e.userDetails,userDoc:e.userDoc}}),(function(e){return Object(z.a)(c,e)}))((function(e){var t=I.a.firestore(),s=Object(n.useState)([]),c=Object(b.a)(s,2),a=c[0],r=c[1];return Object(n.useEffect)((function(){function s(){return(s=Object(d.a)(u.a.mark((function s(){var c,a;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,t.collection("users").doc(e.userDoc.uid).get();case 3:c=s.sent,a=c.data(),r(a.dms),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(0),console.log(s.t0);case 11:case"end":return s.stop()}}),s,null,[[0,8]])})))).apply(this,arguments)}!function(){s.apply(this,arguments)}()}),[]),e.authStatus&&e.userDoc.hasOwnProperty("type")?Object(f.jsxs)("div",{className:"screen",children:[Object(f.jsx)("div",{className:"center-hrz",children:Object(f.jsx)("h1",{className:"screen__header",children:"Your Direct Messages"})}),Object(f.jsx)("div",{className:"center-hrz--col",children:a?0!==a.length?a.map((function(e){return Object(f.jsx)(be,{convoObj:e},e.convoID)})):Object(f.jsx)(A,{}):Object(f.jsxs)("p",{children:["No ",Object(f.jsx)("details",{})]})})]}):Object(f.jsx)(E.a,{to:"/account"})})),me=s(276),he=s.n(me),xe=Object(w.b)((function(e){return{authStatus:e.authStatus,userDetails:e.userDetails,userDoc:e.userDoc}}),(function(e){return Object(z.a)(c,e)}))((function(e){var t=Object(E.f)(),s=e.match.params.tutorID,c=JSON.stringify(new Date),a=Object(n.useState)(new Date),r=Object(b.a)(a,2),i=r[0],o=r[1],l=Object(n.useState)(""),j=Object(b.a)(l,2),m=j[0],h=j[1],x=Object(n.useState)(!1),p=Object(b.a)(x,2),O=p[0],v=p[1];return Object(f.jsxs)("div",{className:"screen",children:[Object(f.jsx)("div",{className:"center-hrz",children:Object(f.jsx)("h1",{className:"screen__header",children:"Request a New Tutorial"})}),Object(f.jsx)("form",{onSubmit:function(a){a.preventDefault(),v(!0);var n,r,o=Object(N.a)(12),l=I.a.firestore();function b(){return j.apply(this,arguments)}function j(){return(j=Object(d.a)(u.a.mark((function a(){var r,d;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,l.collection("tutors").doc(s).get();case 3:return r=a.sent,n=r.data(),d={tutor:n,requestID:o,requestedDateTime:JSON.stringify(i),subject:m,link:"",submitTime:c,status:"pending"},a.next=8,l.collection("users").doc(e.userDoc.uid).update({requests:I.a.firestore.FieldValue.arrayUnion(d)});case 8:a.sent,v(!1),t.push("/"),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.log(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,13]])})))).apply(this,arguments)}function h(){return(h=Object(d.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.collection("tutees").doc(e.userDoc.uid).get();case 3:return a=t.sent,r=a.data(),n={tutee:r,requestID:o,requestedDateTime:JSON.stringify(i),subject:m,link:"",submitTime:c,status:"pending"},t.next=8,l.collection("users").doc(s).update({requests:I.a.firestore.FieldValue.arrayUnion(n)});case 8:t.sent,console.log(n),b(),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}!function(){h.apply(this,arguments)}()},children:Object(f.jsxs)("div",{className:"center-hrz--col requestForm",children:[Object(f.jsx)("input",{type:"text",placeholder:"Enter Requested Subject",className:"subject input-text",required:!0,id:"subject",onChange:function(e){h(e.target.value)}}),Object(f.jsx)("label",{htmlFor:"subject",className:"input-label",children:"Enter Requested Subject"}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"date-time-stamp-bg",children:Object(f.jsx)(he.a,{onChange:o,value:i,required:!0})}),Object(f.jsx)("label",{htmlFor:"date",className:"input-label",children:"Pick a date and time for the tutorial"}),Object(f.jsx)("br",{}),O?Object(f.jsx)("button",{className:"buttonn buttonn--nohover",children:Object(f.jsx)(A,{size:"medium"})}):Object(f.jsx)("button",{type:"submit",className:"button button1",children:"Submit"})]})})]})})),pe=s.p+"static/media/tuterolive.6c39b3ce.svg",Oe=Object(w.b)((function(e){return{authStatus:e.authStatus,userDetails:e.userDetails,userDoc:e.userDoc}}),(function(e){return Object(z.a)(c,e)}))((function(e){var t=Object(n.useRef)();return t.current="https://tutero-live.onrender.com/room/".concat(Object(N.a)(12)),e.authStatus&&e.userDoc.hasOwnProperty("type")?Object(f.jsxs)("div",{className:"screen",children:[Object(f.jsx)("div",{className:"center-hrz",children:Object(f.jsx)("img",{src:pe,alt:"",className:"liveLogo"})}),Object(f.jsx)("div",{class:"center-item-horizontal",children:Object(f.jsx)("h1",{class:"header",children:"Go Live"})}),Object(f.jsx)("div",{class:"center-item-horizontal",children:Object(f.jsx)("div",{className:"card",children:Object(f.jsxs)("div",{className:"center-hrz--col",children:[Object(f.jsx)("p",{className:"normal-text",children:"Visit and share this link to start the virtual tutorial (make sure your tutor/tutee visits the same link)"}),Object(f.jsxs)("div",{className:"link-box",children:[Object(f.jsx)("p",{className:"normal-text u-margin-bottom",children:Object(f.jsx)("span",{style:{fontWeight:"bold"},children:"Your Room Link Is: "})}),Object(f.jsx)("a",{href:t.current,target:"_blank",className:"normal-text green-text ",style:{backgroundColor:"#1e1e1e",padding:"1rem",borderRadius:"20px"},children:t.current}),Object(f.jsx)("br",{})]})]})})})]}):Object(f.jsx)(E.a,{to:"/account"})}));var fe=Object(z.c)(Object(w.b)((function(e){return{authStatus:e.authStatus,userDetails:e.userDetails,userDoc:e.userDoc}}),(function(e){return Object(z.a)(c,e)})))((function(e){var t=Object(n.useRef)(),s=Object(n.useRef)(),c=(Object(n.useRef)(),function(){var e=t.current,c=document.querySelectorAll(".menu--sub"),a=s.current;c.forEach((function(e){e.style.display="none"})),e.style.animation="collapse 0.3s forwards",a.style.display="none"});return Object(n.useEffect)((function(){var e=document.querySelectorAll(".menu--link"),t=window.matchMedia("(max-width: 600px)"),s=function(t){t.matches&&e.forEach((function(e){e.addEventListener("click",c)}))};s(t),t.addListener(s),t.addListener((function(){window.location.reload()}))}),[]),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"home",children:[Object(f.jsxs)("div",{id:"navigation",ref:t,children:[Object(f.jsx)("img",{src:oe,alt:"",className:"nav--icon",id:"nav--close",onClick:c,ref:s}),Object(f.jsx)(H.b,{to:"/",onClick:function(){var e=document.querySelector(".activeLink");e&&e.classList.remove("activeLink")},children:Object(f.jsx)("img",{className:"nav__logo",src:ie,alt:"logo"})}),Object(f.jsx)(de,{})]}),Object(f.jsxs)("div",{id:"dashboard",children:[Object(f.jsx)("img",{src:le,className:"nav--icon",id:"nav--open",alt:"",onClick:function(){var e=t.current,c=document.querySelectorAll(".menu--sub"),a=s.current;c.forEach((function(e){e.style.display="block"})),e.style.animation="expand 0.4s forwards",a.style.display="block"}}),Object(f.jsx)(E.b,{component:P,exact:!0,path:"/direct/:roomName"}),Object(f.jsx)(E.b,{component:W,exact:!0,path:"/account"}),Object(f.jsx)(E.b,{component:ae,exact:!0,path:"/"}),Object(f.jsx)(E.b,{component:re,exact:!0,path:"/subject/:subject"}),Object(f.jsx)(E.b,{component:je,exact:!0,path:"/directs"}),Object(f.jsx)(E.b,{component:xe,exact:!0,path:"/request/:tutorID"}),Object(f.jsx)(E.b,{component:Oe,exact:!0,path:"/createRoom"})]})]})})})),ve=(s(511),s(119)),ge=s(277),Ne=s.n(ge),ye=s(118),ke={key:"root",storage:Ne.a,whiteList:["userDetails","userDoc"]},De=Object(z.b)({count:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCREMENT":return e+t.number;case"DECREMENT":return e-t.number;default:return e}},firestore:ye.firestoreReducer,authStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_STATUS":return t.status;default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DETAILS":return t.details;default:return e}},userDoc:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DOC":return t.doc;default:return e}}}),_e=Object(ve.a)(ke,De);s(269),s(192),s(549);I.a.initializeApp({apiKey:"AIzaSyCsGd-oFmUb62kI5LQxXBSez54HfX3izWw",authDomain:"blabblev2.firebaseapp.com",projectId:"blabblev2",storageBucket:"blabblev2.appspot.com",messagingSenderId:"271112976283",appId:"1:271112976283:web:7cb01e0d4e77a3809dd33e",measurementId:"G-DHDDEJXQDF"});I.a;var Se=s(278),qe=Object(z.d)(_e),we=Object(ve.b)(qe),Re={firebase:I.a,config:{useFirestoreForProfile:!0,userProfile:"users"},dispatch:qe.dispatch,createFirestoreInstance:ye.createFirestoreInstance};i.a.render(Object(f.jsx)(w.a,{store:qe,children:Object(f.jsx)(Se.a,{persistor:we,children:Object(f.jsx)(ne.ReactReduxFirebaseProvider,Object(a.a)(Object(a.a)({},Re),{},{children:Object(f.jsx)(H.a,{children:Object(f.jsx)(g,{children:Object(f.jsx)(k,{children:Object(f.jsx)(fe,{})})})})}))})}),document.getElementById("root"))}},[[545,1,2]]]);
//# sourceMappingURL=main.e6ae826f.chunk.js.map