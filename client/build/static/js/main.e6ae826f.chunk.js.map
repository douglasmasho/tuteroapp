{"version":3,"sources":["Context/SocketContext.js","Context/UIDContext.js","assets/trash.svg","Components/Message.js","assets/blabble.svg","redux/actions.js","Components/Loading.js","assets/arrow-down.svg","Components/Chat/Room.js","Components/AccountDetails.js","Components/Account.js","Components/Request/RequestCardTutor.js","assets/randomuser.png","Components/Dashboard/TutorDash.js","Components/UserThumb.js","Components/Dashboard/suggestion.js","Components/DMList.js","Components/Request/RequestCardTutee.js","Components/TutorCard.js","Components/TutorCardParent.js","Components/Dashboard/TuteeDash.js","Components/Home.js","Components/Dashboard/Subject.js","assets/tutero.svg","assets/back.svg","assets/menu.svg","Components/Menu.js","Components/Chat/MessageThumb.js","Components/Chat/DirectMessages.js","Components/Request/RequestForm.js","assets/tuterolive.svg","Components/CreateRoom.js","App.js","redux/reducers.js","config/fbConfig.js","index.js"],"names":["socketContext","createContext","SocketContextProvider","state","socket","io","connect","console","log","this","Provider","value","props","children","Component","UIDContext","UIDContextProvider","uid","Math","round","random","nanoid","Message","messageObj","currentUID","deleteFunc","date","JSON","parse","timestamp","author","style","width","display","justifyContent","className","src","Trash","alt","data-id","stringify","onClick","e","jsonString","target","dataset","id","obj","msg","moment","calendar","backgroundImage","authorPic","setAuthStatus","status","type","setUserDetails","details","setUserDoc","doc","Loading","loadingWidth","size","loadingAnimContainerRef","useRef","animRef","useEffect","current","lottie","loadAnimation","container","animationData","LoadingAnim","loop","play","ref","authStatus","userDetails","userDoc","dispatch","bindActionCreators","actionCreators","socketRef","uidRef","useState","isReady","setIsReady","message","setMessage","messageArr","setMessageArr","downRef","otherUserObjRef","msgContainerRef","messageArrRef","useContext","otherID","match","params","roomName","split","find","scrollToBottom","sendMessage","time","Date","messageID","photoURL","emit","firestore","firebase","a","collection","update","messagesArr","FieldValue","arrayUnion","postMessage","on","msgObj","filter","el","peerDeleted","get","userObjSnapshot","userObj","data","dms","some","convoID","otherUserObjSnapshot","otherUserObj","name","exists","set","messagesSnapshot","messages","convoObjSnapshot","objToRemove","arrayRemove","objectToRemove2","checkOrAddToArr","checkOrCreateDoc","length","removeConvo","hasOwnProperty","to","deleteMessageFunc","deleteMessage","scrollTo","scrollHeight","flexDirection","alignItems","map","messageEl","Down","onSubmit","preventDefault","placeholder","onChange","required","AccountDetails","editMode","textTransform","setType","displayName","setDisplayName","educationLevel","setEducationLevel","rate","setRate","errorRefTutee","errorRefTutorCats","errorRefTutorLevels","errorRefTuteeEdLEvel","history","useHistory","uiConfig","signInFlow","signInOptions","auth","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccess","handleChange","classList","contains","handleClick","checkBoxes","document","querySelectorAll","subs","forEach","checked","push","setTimeout","subjects","favorites","requests","create","credInputs","credentials","specSubInputs","specSubs","categoryInput","categories","levelsInput","levels","element","querySelector","getBoundingClientRect","top","window","scrollY","scroll","behavior","rating","onAuthStateChanged","user","docSnapshot","getUserDoc","color","fontSize","fontWeight","signOut","marginRight","marginLeft","htmlFor","firebaseAuth","modalRef","modalRef2","linkRef","isLoading","setIsLoading","openModal","add","remove","closeModal","roomNameRef","otherUserID","requestObj","tutee","roomNameArr","unshift","join","position","submitTime","title","userDocSnapshot","tuteeSnapshot","previousObjTheirs","requestID","previousObjMine","newLink","previousObj","newObjMine","link","newObjTheirs","tutor","acceptInFB","declineInFB","subject","requestedDateTime","href","backgroundColor","padding","borderRadius","textAlign","getUserObj","getSeconds","dateObj","getTime","margin","sort","b","UserThumb","otherUser","myUID","boxShadow","height","border","textDecoration","Suggestion","otherParties","setOtherParties","othersSnapshot","others","docs","getOthers","setRating","removeFromMinesnapshot","removeFromMine","removeFromTheirsnapshot","removeFromTheirs","confirm","ratingValue","fave","setFave","faveBool","getRating","ratingArr","reduce","c","aria-hidden","changeFave","userObject","setUserObject","userID","marginTop","currentUser","currentRoute","tutors","setTutors","where","querySnapShot","tutorsArr","fetchTutors","Menu","linkClick","bind","event","currentLink","currentTarget","addEventListener","MessageThumb","latest","setLatest","latestTimeState","setLatestTimeState","convoObj","latestMessage","latestTime","fetchMessages","setDms","newUserDocSnapShot","newUserDoc","fetchDoc","tutorID","chosenDate","onChangeDate","setSubject","tutorObj","tuteemineObj","addToMine","receipt","myObj","theirObj","addToTutors","TLlogo","class","compose","navRef","navCloseRef","closeNav","nav","menus","animation","menuLinks","x","matchMedia","closeNavinQ","matches","addListener","location","reload","BackIcon","tuteroLogo","MenuIcon","component","Room","exact","path","Account","Home","Subject","DirectMessages","RequestForm","CreateRoom","persistConfig","key","storage","whiteList","rootReducer","combineReducers","count","action","number","firestoreReducer","persistReducer","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","store","createStore","persistor","persistStore","rrfProps","config","useFirestoreForProfile","userProfile","createFirestoreInstance","ReactDOM","render","SocketContext","getElementById"],"mappings":"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","file":"static/js/main.e6ae826f.chunk.js","sourcesContent":["import React, { Component, createContext } from 'react';\r\nimport io from \"socket.io-client\";\r\n\r\nexport const socketContext = createContext();\r\n\r\nexport class SocketContextProvider extends Component {\r\n    state = {\r\n        socket: io.connect(\"/\"),\r\n    }\r\n    render() {\r\n        console.log(this.state.socket)\r\n        return (\r\n           <socketContext.Provider value={this.state.socket}>\r\n               {this.props.children}\r\n           </socketContext.Provider>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SocketContextProvider\r\n","import React, { Component, createContext } from 'react';\r\nimport io from \"socket.io-client\";\r\nimport {nanoid} from \"nanoid\";\r\n\r\n\r\nexport const UIDContext = createContext();\r\n\r\nexport class UIDContextProvider extends Component {\r\n    state = {\r\n        uid: `${Math.round(Math.random())}-${nanoid(7)}`,\r\n    }\r\n    render() {\r\n        return (\r\n           <UIDContext.Provider value={this.state.uid}>\r\n               {this.props.children}\r\n           </UIDContext.Provider>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UIDContextProvider\r\n","export default __webpack_public_path__ + \"static/media/trash.1d121ffa.svg\";","import React from 'react';\r\nimport Trash from \"../assets/trash.svg\";\r\nimport moment from \"moment\";\r\nimport { useEffect } from 'react';\r\n\r\n\r\nconst Message = ({messageObj, currentUID, deleteFunc}) => {\r\n    const date = JSON.parse(messageObj.timestamp);\r\n\r\n    const handleDelete = (e)=>{\r\n        const jsonString = e.target.dataset.id;\r\n        const obj = JSON.parse(jsonString)\r\n        deleteFunc(obj);\r\n    }\r\n    \r\n\r\n    if(currentUID === messageObj.author){\r\n        //these messages are the ones you sent\r\n        return (\r\n            <div style={{width: \"100%\", display: \"flex\", justifyContent: \"flex-end\"}}>\r\n                <div className=\"my-message-container my-message-container--mine\">\r\n                     <img src={Trash} alt=\"\" className=\"message__delete\" data-id={JSON.stringify(messageObj)} onClick={handleDelete}/>\r\n                    <div className=\"my-messages\">\r\n                        <p className=\"message__text message__text--mine\">{messageObj.msg}</p>\r\n                    </div>\r\n                    <p className=\"message__date message__date--mine\">{moment(date).calendar()}</p>\r\n                    <div className=\"message__photo message__photo--mine\" style={{backgroundImage: `url(${messageObj.authorPic})`}}>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        )\r\n    }else{\r\n        //these messages are that someone sent\r\n\r\n        return (\r\n            <div style={{width: \"100%\", display: \"flex\", justifyContent: \"flex-start\"}}>\r\n                <div className=\"my-message-container my-message-container--theirs\">\r\n                    <div className=\"recipient-messages\">\r\n                        <p className=\"message__text message__text--theirs\">{messageObj.msg}</p>\r\n                    </div>\r\n                    <p className=\"message__date message__date--theirs\">{moment(date).calendar()}</p>\r\n                    <div className=\"message__photo message__photo--theirs\" style={{backgroundImage: `url(${messageObj.authorPic})`}}>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default Message\r\n","export default __webpack_public_path__ + \"static/media/blabble.0cc8db5b.svg\";","export const setAuthStatus = (status)=>{\r\n    return {\r\n        type: \"SET_AUTH_STATUS\",\r\n        status\r\n    }\r\n}\r\n\r\nexport const setUserDetails = (details)=>{\r\n    return {\r\n        type: \"SET_DETAILS\",\r\n        details\r\n    }\r\n}\r\n\r\nexport const setUserDoc = (doc)=>{\r\n    return {\r\n        type: \"SET_USER_DOC\",\r\n        doc\r\n    }\r\n}","import React, {useEffect, useRef} from 'react';\r\nimport lottie from \"lottie-web\";\r\nimport LoadingAnim from \"../animations/loading.json\";\r\n\r\nconst Loading = ({size = \"normal\"}) => {\r\n    const loadingAnimContainerRef = useRef(),\r\n          animRef = useRef(null);\r\n\r\n          useEffect(()=>{\r\n            animRef.current = lottie.loadAnimation({\r\n                container: loadingAnimContainerRef.current,\r\n                animationData: LoadingAnim,\r\n                loop: true\r\n            });\r\n            animRef.current.play();\r\n        },[])\r\n\r\n        let loadingWidth \r\n        switch (size) {\r\n            case \"normal\":\r\n                loadingWidth = \"50rem\"\r\n                break;\r\n                case \"medium\":\r\n                    loadingWidth = \"10rem\"\r\n                    break;\r\n            case \"small\":\r\n            loadingWidth = \"2.5rem\";\r\n            break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n    return (\r\n        <div className=\"loading__container center-hrz\" style={{width: loadingWidth}}>\r\n            <div ref={loadingAnimContainerRef} className=\"loading\">\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading\r\n","export default __webpack_public_path__ + \"static/media/arrow-down.26b9f26e.svg\";","import React, {useState, useRef, useContext, useEffect} from 'react'\r\nimport {socketContext} from \"../../Context/SocketContext\";\r\nimport {UIDContext} from \"../../Context/UIDContext\";\r\nimport {nanoid} from \"nanoid\";\r\nimport Message from '../Message';\r\nimport Logo from \"../../assets/blabble.svg\";\r\nimport {connect} from \"react-redux\";      \r\nimport * as actionCreators from \"../../redux/actions\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport firebase from 'firebase/app';\r\nimport {Redirect, Link} from \"react-router-dom\";\r\nimport Loading from '../Loading';\r\nimport Down from \"../../assets/arrow-down.svg\";\r\n\r\n\r\nconst Room = (props) => {\r\n  const socketRef = useRef(null);\r\n  const uidRef = useRef(null);\r\n  const [isReady, setIsReady] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [messageArr, setMessageArr] = useState([]);\r\n  const [testArr, setTestArr] = useState([]);\r\n  const downRef = useRef();\r\n  const otherUserObjRef = useRef(null);\r\n  const msgContainerRef = useRef();\r\n  const messageArrRef = useRef();\r\n  messageArrRef.current = messageArr\r\n  socketRef.current = useContext(socketContext);\r\n  uidRef.current = useContext(UIDContext);\r\n\r\n  const otherIDArr = props.match.params.roomName.split(\"tutero\");\r\n  const otherID = otherIDArr.find(id=>id !== props.userDoc.uid);\r\n\r\n   useEffect(()=>{\r\n       if(msgContainerRef.current){\r\n          scrollToBottom();\r\n       }\r\n})\r\n\r\nconst peerDeleted = (msgObj)=>{\r\n  console.log(\"the peer deleted\");\r\nsetMessageArr(state=> state.filter(el=>el.messageID !== msgObj.messageID)); \r\n}\r\n\r\nconst handleChange = (e)=>{\r\n  setMessage(e.target.value);\r\n}\r\n\r\nconst handleSubmit = (e)=>{\r\n  e.preventDefault();\r\n  sendMessage(message)\r\n}\r\n\r\nconst sendMessage = (message)=>{\r\n  const time = new Date()\r\n  const messageObj = {\r\n    msg: message,\r\n    author: props.userDoc.uid,\r\n    messageID: nanoid(12),\r\n    timestamp: JSON.stringify(time),\r\n    authorPic: props.userDoc.photoURL,\r\n}\r\n//send message to the server\r\n  socketRef.current.emit(\"message\", messageObj);\r\n  console.log(\"sent message\");\r\n  console.log(socketRef.current);\r\n//also save to firebase\r\nconst firestore = firebase.firestore();\r\nasync function postMessage(){\r\n    const addition = await firestore.collection(\"messages\").doc(props.match.params.roomName).update({\r\n        messagesArr: firebase.firestore.FieldValue.arrayUnion(messageObj)\r\n    })\r\n}\r\n\r\npostMessage();\r\n}\r\n  useEffect(()=>{\r\n      //join the room\r\n      socketRef.current.emit(\"join room\", props.match.params.roomName);\r\n\r\n      socketRef.current.on(\"message\", (messageObj)=>{\r\n          setMessageArr(state=>[...state, messageObj]);\r\n      })\r\n\r\n      socketRef.current.on(\"delete message\", msgObj=>{\r\n           peerDeleted(msgObj);\r\n      })\r\n      const firestore = firebase.firestore();\r\n\r\n      //check if the messages id is in the dms array in the userObj and add it there\r\n      async function checkOrAddToArr(){\r\n        try{\r\n\r\n          const userObjSnapshot = await firestore.collection(\"users\").doc(props.userDoc.uid).get();\r\n          const userObj = userObjSnapshot.data();\r\n          console.log(userObj);\r\n          if(!userObj.dms.some(el => el.convoID === props.match.params.roomName)){\r\n            //add the roomname to the array\r\n               //get the userObj of the other person\r\n\r\n              const otherUserObjSnapshot = await firestore.collection(\"users\").doc(otherID).get();\r\n              const otherUserObj = otherUserObjSnapshot.data();     \r\n              otherUserObjRef.current = otherUserObj;\r\n              const addition = await firestore.collection(\"users\").doc(props.userDoc.uid).update({\r\n              dms: firebase.firestore.FieldValue.arrayUnion({\r\n                convoID: props.match.params.roomName,\r\n                name: otherUserObj.name,\r\n                photoURL: otherUserObj.photoURL\r\n              })\r\n            })\r\n          }\r\n\r\n      \r\n          const otherUserObjSnapshot = await firestore.collection(\"users\").doc(otherID).get();\r\n          const otherUserObj = otherUserObjSnapshot.data();\r\n          if(!otherUserObj.dms.some(el => el.convoID === props.match.params.roomName)){\r\n            //add the roomname to the array\r\n               //get the userObj of the other person \r\n               console.log(props.userDoc);\r\n              const addition = await firestore.collection(\"users\").doc(otherID).update({\r\n              dms: firebase.firestore.FieldValue.arrayUnion({\r\n                convoID: props.match.params.roomName,\r\n                name: props.userDoc.name,\r\n                photoURL:  props.userDoc.photoURL\r\n              })\r\n            })\r\n\r\n            console.log(\"addition successful\")\r\n\r\n          }\r\n\r\n        }catch(e){\r\n          console.log(e)\r\n        }\r\n\r\n      }\r\n\r\n      checkOrAddToArr();\r\n\r\n\r\n\r\n      //check if a messages doc exists, if it does not exist, then create one.\r\n      async function checkOrCreateDoc(){\r\n          try{\r\n            const docSnapshot = await firestore.collection(\"messages\").doc(props.match.params.roomName).get();\r\n            if(!docSnapshot.exists){\r\n                const docCreation = await firestore.collection(\"messages\").doc(props.match.params.roomName).set({\r\n                    messagesArr: []\r\n                })\r\n                setIsReady(true);\r\n            }else{\r\n                const messagesSnapshot = await firestore.collection(\"messages\").doc(props.match.params.roomName).get();\r\n                // console.log(messagesSnapshot.exists);\r\n                const messages = messagesSnapshot.data().messagesArr;\r\n                // console.log(messages)\r\n                setMessageArr(messages);\r\n                setIsReady(true);\r\n            }\r\n          }catch(e){\r\n\r\n          }\r\n\r\n      }\r\n      checkOrCreateDoc();\r\n\r\n      //cleanup code...if the messages state is empty, we assume that no converstion happened, so we remove the conversation from the dms list\r\n\r\n      async function removeConvo(){\r\n        try{\r\n          const convoObjSnapshot = await firestore.collection(\"users\").doc(props.userDoc.uid).get();\r\n          const objToRemove = convoObjSnapshot.data().dms.find(el=> el.convoID === props.match.params.roomName);\r\n          console.log(objToRemove);\r\n          const removal = await firestore.collection(\"users\").doc(props.userDoc.uid).update({\r\n            dms: firebase.firestore.FieldValue.arrayRemove(objToRemove)\r\n          })\r\n\r\n          const otherUserObjSnapshot = await firestore.collection(\"users\").doc(otherID).get();\r\n          console.log(otherUserObjSnapshot.data())\r\n          const objectToRemove2 = otherUserObjSnapshot.data().dms.find(el=> el.convoID === props.match.params.roomName);\r\n                    const removal2 = await firestore.collection(\"users\").doc(otherID).update({\r\n            dms: firebase.firestore.FieldValue.arrayRemove(objectToRemove2)\r\n          })\r\n\r\n\r\n        }catch(e){\r\n          console.log(e)\r\n        }\r\n\r\n      }\r\n\r\n      return ()=>{\r\n        console.log(messageArrRef.current);\r\n        if(messageArrRef.current.length === 0){\r\n          removeConvo();\r\n        }\r\n      }\r\n  },[])\r\n\r\n  \r\n\r\n  if(!props.authStatus || !props.userDoc.hasOwnProperty(\"type\")){\r\n    return <Redirect to=\"/account\"/>\r\n  }\r\n\r\n\r\n  const newArr = props.match.params.roomName.split(\"tutero\");\r\n  if(!newArr.some(el=> el === props.userDoc.uid)){\r\n    return <Redirect to=\"/account\"/>\r\n  }\r\n\r\n\r\n\r\n  const deleteMessageFunc = (msgObj)=>{\r\n      //indexOf the object in the msgArray in local state, then splice it\r\n      setMessageArr(state=> state.filter(el=>el.messageID !== msgObj.messageID)); \r\n      //remove the element from the message array in firestore\r\n      const firestore = firebase.firestore()\r\n      async function deleteMessage(){\r\n          const deletion = await firestore.collection(\"messages\").doc(props.match.params.roomName).update({\r\n              messagesArr: firebase.firestore.FieldValue.arrayRemove(msgObj)\r\n          })\r\n      }\r\n      deleteMessage();\r\n\r\n      //tell your peer to delet their message\r\n     socketRef.current.emit(\"delete message\", msgObj);\r\n      \r\n  }\r\n\r\n const scrollToBottom =()=>{\r\n    msgContainerRef.current.scrollTo(0, msgContainerRef.current.scrollHeight);\r\n}\r\n\r\n\r\n\r\n  return (\r\n      //this div👇 contains the message container\r\n        <div className=\"screen\">\r\n        {\r\n            isReady ? \r\n            <>\r\n               <div style={{display: \"flex\", flexDirection: \"column\", alignItems: \"center\"}}>\r\n            {/* this div👇 contains the messages */}\r\n            <div className=\"message-container\" ref={msgContainerRef}>\r\n                {\r\n                    messageArr.map(messageEl=><Message messageObj={messageEl} currentUID={props.userDoc.uid} deleteFunc={deleteMessageFunc} key={messageEl.messageID}/>)\r\n                }\r\n                <button className=\"button--round\" ref={downRef} onClick={scrollToBottom}><img src={Down} alt=\"\" /></button>\r\n            </div>\r\n            \r\n\r\n            {/* this👇 div contains the form */}\r\n            <div>\r\n                {/* this is the form 👇 */}\r\n                <form className=\"message-input u-margin-bottom\" onSubmit={handleSubmit}>\r\n                    {/* this div👇 contains the input and the button */}\r\n                    <div>\r\n\r\n                        {/* this is the input👇 */}\r\n                        <center>\r\n                          <input className=\"text-message-input\" type=\"text\" placeholder=\"Type a message\" onChange={handleChange} value={message} required/>\r\n                          {/* this is the button👇 */}         \r\n                          <button className=\"btn\" type=\"submit\">Send</button>\r\n                        </center>\r\n                    </div>         \r\n                </form>\r\n            </div>\r\n        </div>\r\n            </> : <div className=\"center-hrz\"><Loading/></div>\r\n        }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state=>({\r\n    authStatus: state.authStatus,\r\n    userDetails: state.userDetails,\r\n    userDoc: state.userDoc\r\n  })\r\n  \r\n  const mapDispatchToProps = dispatch=>{\r\n    return bindActionCreators(actionCreators, dispatch)\r\n  }\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Room)\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst AccountDetails = ({userDoc, editMode}) => {\r\n    return (\r\n        <div>\r\n            <h1 className=\"text-size\">Your Tutero details</h1>\r\n            <p className=\"text-size\">Display Name: {userDoc.name}</p>\r\n            <p className=\"text-size\">Your user ID is {userDoc.uid}</p>\r\n            <p className=\"text-size\">Type: <span style={{textTransform: \"capitalize\"}}>{userDoc.type}</span></p>\r\n            <br />\r\n            <p className=\"text-size\">Profile Photo:</p>\r\n            {/* <img className=\"image\" src={userDoc.photoURL} alt=\"\" /> */}\r\n            <div className=\"center-hrz\">\r\n                <div style={{backgroundImage: `url(${userDoc.photoURL})`}} className=\"profile_pic\">\r\n                </div>\r\n            </div>\r\n\r\n            <br />\r\n            {/* <button className=\"button button2\">Edit Details</button> */}\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AccountDetails\r\n","////PLEASE DO NOT DELETE ANYTHING, YOU CAN ONLY ADD......\r\n///IE. DO NOT DELETE THE CLASSNAMES I GAVE, IF YOU WANT TO ADD A CLASS FOR STYLING PURPOSES, JUST ADD TO THE LIST\r\n//nest inputs and their respective labels in devs....to seperate them and give them margins\r\nimport React, {useState, useEffect, useRef} from 'react';\r\nimport firebase from 'firebase/app';\r\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";      \r\nimport * as actionCreators from \"../redux/actions\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport AccountDetails from './AccountDetails';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\nconst Account = (props) => {\r\n    const [type, setType] = useState(\"\");\r\n    const [displayName, setDisplayName] = useState(\"\");\r\n    const [educationLevel, setEducationLevel] = useState(\"\");\r\n    const [rate, setRate] = useState(0);\r\n    const errorRefTutee = useRef();\r\n    const errorRefTutorCats = useRef();\r\n    const errorRefTutorLevels = useRef();\r\n    const errorRefTuteeEdLEvel = useRef();\r\n    const history = useHistory();\r\n\r\n\r\n    const   uiConfig = {\r\n      signInFlow: \"popup\",\r\n      signInOptions: [\r\n        firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n        // firebase.auth.FacebookAuthProvider.PROVIDER_ID,\r\n        // firebase.auth.EmailAuthProvider.PROVIDER_ID \r\n      ],\r\n      callbacks: {\r\n        signInSuccess: () => false\r\n      }\r\n    }\r\n\r\n\r\n    const handleChange = (e)=>{\r\n        if(e.target.classList.contains(\"name\")){\r\n          setDisplayName(e.target.value)\r\n        }\r\n      }\r\n    \r\n      const handleClick = (e)=>{\r\n        if(e.target.type === \"radio\"){\r\n          setEducationLevel(e.target.id);\r\n        }\r\n      }\r\n\r\n      const signOut = ()=>{\r\n        console.log(\"supposed to be signing out\")\r\n        firebase.auth().signOut()\r\n      }\r\n\r\n      const onSubmit = (e)=>{\r\n        e.preventDefault();\r\n        if(type === \"tutee\"){\r\n          const checkBoxes = document.querySelectorAll(\".tuteeSubs\");\r\n          const subs = [];\r\n          checkBoxes.forEach(el=> {\r\n            if(el.checked) subs.push(el.id)\r\n          });\r\n\r\n         if(educationLevel === \"\"){\r\n            errorRefTuteeEdLEvel.current.style.display = \"block\";\r\n            setTimeout(()=>{\r\n              errorRefTuteeEdLEvel.current.style.display = \"none\";\r\n            }, 3000)\r\n          } else if(subs.length === 0){\r\n            errorRefTutee.current.style.display = \"block\";\r\n            setTimeout(()=>{\r\n              errorRefTutee.current.style.display = \"none\";\r\n            }, 3000)\r\n          }\r\n          else{\r\n            const userObj = {\r\n              type: \"tutee\",\r\n              name: displayName,\r\n              educationLevel,\r\n              subjects: subs,\r\n              photoURL: props.userDetails.photoURL,\r\n              uid: props.userDetails.uid,\r\n              favorites: [],\r\n              dms: [],\r\n              requests: [],\r\n            }\r\n\r\n            //create a user document and tutee document in firestore\r\n\r\n            async function create(){\r\n              const firestore = firebase.firestore();\r\n              try{\r\n                const userCreation = await firestore.collection(\"users\").doc(props.userDetails.uid).set(userObj);\r\n                const tuteeCreation = await firestore.collection(\"tutees\").doc(props.userDetails.uid).set(userObj);\r\n                //redirect to the chat page\r\n                history.push(\"/\");\r\n              }\r\n              catch(e){\r\n                console.log(e)\r\n              }\r\n            }\r\n\r\n            create()\r\n          }\r\n        }\r\n        else if(type === \"tutor\"){\r\n          const credInputs = document.querySelectorAll(\".credentials\");\r\n          const credentials = []\r\n          credInputs.forEach(el=> {if(el.value !== \"\")credentials.push(el.value)});\r\n\r\n          const specSubInputs = document.querySelectorAll(\".specific-sub\");\r\n          const specSubs = [];\r\n          specSubInputs.forEach(el=>{if(el.value !== \"\")specSubs.push(el.value)});\r\n\r\n          const categoryInput = document.querySelectorAll(\".tutorSubs\");\r\n          const categories = [];\r\n          categoryInput.forEach(el=>{if(el.checked)categories.push(el.value)});\r\n\r\n\r\n          const levelsInput = document.querySelectorAll(\".tutorLevels\");\r\n          const levels = [];\r\n          levelsInput.forEach(el=>{if(el.checked)levels.push(el.value)});\r\n\r\n          if(categories.length === 0){ \r\n\r\n            errorRefTutorCats.current.style.display = \"block\";\r\n            setTimeout(()=>{\r\n              errorRefTutorCats.current.style.display = \"none\";\r\n            }, 3000)\r\n            const element = document.querySelector(\"#scrollhere\");\r\n            console.log(element)\r\n              const y = element.getBoundingClientRect().top + window.scrollY;\r\n              window.scroll({\r\n                top: \"10px\",\r\n                behavior: 'smooth'\r\n              });\r\n          }else if(levels.length === 0){\r\n\r\n\r\n\r\n            errorRefTutorLevels.current.style.display = \"block\";\r\n            setTimeout(()=>{\r\n              errorRefTutorLevels.current.style.display = \"none\";\r\n            }, 3000)\r\n          }else{\r\n\r\n            const userObj = {\r\n              type: \"tutor\",\r\n              name: displayName,\r\n              photoURL: props.userDetails.photoURL,\r\n              categories,\r\n              levels,\r\n              specSubs,\r\n              credentials,\r\n              rate,\r\n              uid: props.userDetails.uid,\r\n              dms: [],\r\n              requests: [],\r\n              rating: [],\r\n            }\r\n\r\n            async function create(){\r\n              const firestore = firebase.firestore();\r\n              try{\r\n                const userCreation = await firestore.collection(\"users\").doc(props.userDetails.uid).set(userObj);\r\n                const tuteeCreation = await firestore.collection(\"tutors\").doc(props.userDetails.uid).set(userObj);\r\n                history.push(\"/\");\r\n                //redirect to the chat page\r\n              }\r\n              catch(e){\r\n                console.log(e)\r\n              }\r\n            }\r\n\r\n          create();       \r\n          }\r\n\r\n          \r\n\r\n          //create a seperate field within the doc which is an array that contains the categories\r\n\r\n          \r\n        }\r\n      }\r\n\r\n      useEffect(()=>{\r\n        firebase.auth().onAuthStateChanged(user=>{\r\n          props.setAuthStatus(!!user);\r\n          if(user){\r\n            props.setUserDetails(user);\r\n            //get the user document from firebase and give it to redux\r\n            const firestore = firebase.firestore();\r\n            \r\n            async function getUserDoc(){\r\n              try{\r\n                const docSnapshot = await firestore.collection(\"users\").doc(user.uid).get();\r\n                console.log(docSnapshot.data());\r\n                if(docSnapshot.exists){\r\n                props.setUserDoc(docSnapshot.data());\r\n              }else{\r\n                props.setUserDoc({});\r\n              }\r\n\r\n              }catch(e){\r\n                console.log(e)\r\n              }\r\n            }\r\n            getUserDoc();\r\n\r\n          }else{\r\n            props.setUserDetails({});\r\n            props.setUserDoc({});\r\n          }\r\n        })\r\n      },[])\r\n\r\n      useEffect(()=>{\r\n        console.log(props.userDoc);\r\n      })\r\n\r\n\r\n    return (\r\n      <div className=\"screen\">\r\n              <div className=\"center-hrz\">\r\n                <div className=\"welcome\" >\r\n          {\r\n             props.authStatus && props.userDetails !== {} ?\r\n             <>\r\n             <h1 className=\"google\"><span style={{color:\"#0000FF\"}}>G</span><span style={{color:\"#FF0000\"}}>o</span>\r\n             <span style={{color:\"#FFD700\"}}>o</span><span style={{color:\"#0000FF\"}}>g</span><span style={{color:\"#00FF00\"}}>l</span>\r\n             <span style={{color:\"#FF0000\"}}>e</span> Account:</h1>\r\n             <p style={{fontSize:\"20px\", fontWeight: \"bold\"}}>Welcome {props.userDetails.displayName}</p>\r\n                <button className=\"button1 button\" onClick={signOut}>Sign out</button>\r\n             {\r\n               !props.userDoc.hasOwnProperty(\"type\") ? \r\n               \r\n               <>\r\n                   {/* form starts here👇 */}\r\n                   <div>\r\n\r\n\r\n                  \r\n                  {\r\n                    type === \"\" ?\r\n                    \r\n                      <>\r\n                   <p style={{fontSize:\"20px\", fontWeight: \"bold\"}}>What would you like to sign up for?</p>\r\n\r\n                      <button className=\"button2 button\" style={{marginRight: \"10px\"}} onClick={()=>{\r\n                        setType(\"tutor\")\r\n                      }}>Sign up as a tutor</button>\r\n                      <button style={{marginLeft: \"10px\"}}className=\"button2 button\" onClick={()=>{\r\n                        setType(\"tutee\")\r\n                      }}>Sign up as a tutee</button>\r\n                      </>\r\n                      :        \r\n                    (type === \"tutee\" ?\r\n                    <div>\r\n                      <button className=\"button button2\" onClick={()=>{\r\n                        setType(\"tutor\")\r\n                      }}>Tutor</button>\r\n                    <h2 className=\"text-size\">Tutee Form</h2>\r\n                       <form id=\"tuteeForm\" onSubmit={onSubmit}>\r\n                         <div className=\"center-hrz u-margin-top\">\r\n                          <div className=\"input-group \">\r\n                            <input type=\"text\" placeholder=\"Enter Display Name\" required id=\"nameTutee\" onChange={handleChange} className=\"name input-text\" value={displayName} required/>\r\n                              <label htmlFor=\"nameTutee\" className=\"input-label\">Enter Display Name</label>   \r\n                              <br />\r\n                          </div>\r\n\r\n                         </div>\r\n\r\n                          \r\n                           <p className=\"text-size\">Please enter your current education level/grade</p>\r\n\r\n                             <br />\r\n                             <div className=\"row\">\r\n                                <input type=\"radio\" id=\"gr-10\" name=\"level\" className=\"tuteeLevels radio\" onClick={handleClick}/>\r\n                                <label htmlFor=\"gr-10\" className=\"radio-label\">Grade 10</label>\r\n                                \r\n                                <input type=\"radio\" id=\"gr-11\" name=\"level\"  className=\"tuteeLevels radio\" onClick={handleClick}/>\r\n                                <label htmlFor=\"gr-11\" className=\"radio-label\">Grade 11</label>\r\n                                  \r\n                                  <input type=\"radio\" id=\"gr-12\" name=\"level\"  className=\"tuteeLevels radio\" onClick={handleClick}/>\r\n                                <label htmlFor=\"gr-12\" className=\"radio-label\">Grade 12</label>\r\n                                \r\n                                <input type=\"radio\" id=\"tertiary-under\" name=\"level\"  className=\"tuteeLevels radio\" onClick={handleClick}/>\r\n                                <label htmlFor=\"tertiary-under\" className=\"radio-label\">Tertiary Undergrad</label>\r\n                                \r\n                                <input type=\"radio\" id=\"tertiary-post\" name=\"level\"  className=\"tuteeLevels radio\" onClick={handleClick}/>\r\n                                <label htmlFor=\"tertiary-post\" className=\"radio-label\">Tertiary Postgrad</label>\r\n                             </div>\r\n                             <p className=\"red-text\" ref={errorRefTuteeEdLEvel} style={{display: \"none\"}}>Please select one of these options</p>\r\n                            \r\n                           <br />\r\n                           <p className=\"text-size\">Select the Subject Categories you are interested in</p>\r\n                           <div>\r\n                             <div className=\"grid grid-3\">\r\n                                  <div className=\"checkbox\">\r\n                                            <p className=\"text-size\">Mathematics</p>\r\n                                            <input type=\"checkbox\" id=\"maths\" className=\"tuteeSubs input-checkbox \" value=\"maths\" style={{display: \"none\"}}/>\r\n                                            <label htmlFor=\"maths\" className=\"input-checkbox-label\"><span className=\"input-checkbox-button\"></span></label> \r\n                                        </div>\r\n                                        <div className=\"checkbox\">\r\n                                            <p className=\"text-size\">English</p>\r\n                                            <input type=\"checkbox\" id=\"english\" className=\"tuteeSubs input-checkbox\" value=\"english\" style={{display: \"none\"}}/>\r\n                                            <label htmlFor=\"english\" className=\"input-checkbox-label\"><span className=\"input-checkbox-button\"></span></label> \r\n                                        </div>\r\n\r\n                                        <div className=\"checkbox\">\r\n                                            <p className=\"text-size\">Accounting</p>\r\n                                            <input type=\"checkbox\" id=\"accounting\" className=\"tuteeSubs input-checkbox\" value=\"accounting\" style={{display: \"none\"}}/>\r\n                                            <label htmlFor=\"accounting\" className=\"input-checkbox-label\"><span className=\"input-checkbox-button\"></span></label> \r\n                                        </div>\r\n\r\n                                        <div className=\"checkbox\">\r\n                                            <p className=\"text-size\">Science</p>\r\n                                            <input type=\"checkbox\" id=\"science\" className=\"tuteeSubs input-checkbox\" value=\"science\" style={{display: \"none\"}}/>\r\n                                            <label htmlFor=\"science\" className=\"input-checkbox-label\"><span className=\"input-checkbox-button\"></span></label> \r\n                                        </div>\r\n\r\n                                        <div className=\"checkbox\">\r\n                                            <p className=\"text-size\">Economics</p>\r\n                                            <input type=\"checkbox\" id=\"economics\" className=\"tuteeSubs input-checkbox\" value=\"economics\" style={{display: \"none\"}}/>\r\n                                            <label htmlFor=\"economics\" className=\"input-checkbox-label\"><span className=\"input-checkbox-button\"></span></label> \r\n                                        </div>\r\n\r\n                                        <div className=\"checkbox\">\r\n                                            <p className=\"text-size\">Afrikaans</p>\r\n                                            <input type=\"checkbox\" id=\"afrikaans\" className=\"tuteeSubs input-checkbox\" value=\"afrikaans\" style={{display: \"none\"}}/>\r\n                                            <label htmlFor=\"afrikaans\" className=\"input-checkbox-label\"><span className=\"input-checkbox-button\"></span></label> \r\n                                        </div>\r\n\r\n                             </div>\r\n\r\n                                     \r\n                               {/* you can give this p a class, but do not remove the style i gave it, it is crucial 👇 */}\r\n                               <p className=\"red-text\" ref={errorRefTutee} style={{display: \"none\"}}>Please select one of these options</p>\r\n                           </div>\r\n                           <br />\r\n                           <button  className=\"button button2\"type=\"submit\">Submit</button>\r\n                       </form>\r\n                    </div>\r\n                      :\r\n                      <div>\r\n                      <button className=\"button button2\" onClick={()=>{\r\n                    setType(\"tutee\")\r\n                  }}>Tutee</button>\r\n\r\n                      <h2 className=\"text-size\">Tutor Form</h2>\r\n                      <form id=\"tutorForm\" onSubmit={onSubmit}className=\"u-margin-top\">\r\n                          <input type=\"text\" placeholder=\"Enter Display Name\" required id=\"nameTutor\" onChange={handleChange} className=\"name input-text\" value={displayName} required/>\r\n                          <label htmlFor=\"nameTutor\" className=\"input-label \">Enter Display Name</label>\r\n                          <br />\r\n                          <br />\r\n                          <input type=\"text\" placeholder=\"Credentials *\" className=\"credentials input-text\" onChange={handleChange} required id=\"credentials-1\"/>\r\n                          <label htmlFor=\"credentials-1\" className=\"input-label\">Credentials *</label>\r\n                          <input type=\"text\" placeholder=\"Credentials (Optional)\" className=\"credentials input-text\" onChange={handleChange} id=\"credentials-2\"/>\r\n                          <label htmlFor=\"credentials-2\" className=\"input-label\">Credentials (Optional)</label>\r\n                          <input type=\"text\" placeholder=\"Credentials (Optional)\" className=\"credentials input-text\" onChange={handleChange} id=\"credentials-3\"/>\r\n                          <label htmlFor=\"credentials-3\" className=\"input-label\">Credentials (Optional)</label>\r\n                          <br />\r\n                          <br />\r\n                              <input type=\"text\" placeholder=\"Enter Specific Subject *\" className=\"specific-sub input-text\" onChange={handleChange} required id=\"sub-1\"/>\r\n                              <label htmlFor=\"sub-1\" className=\"input-label\">Enter Specific Subject *</label>\r\n                              <input type=\"text\" placeholder=\"Enter Specific Subject (Optional)\" className=\"specific-sub input-text\" onChange={handleChange} id=\"sub-2\"/>\r\n                              <label htmlFor=\"sub-2\" className=\"input-label\">Enter Specific Subject (Optional)</label>\r\n                              <input type=\"text\" placeholder=\"Enter Specific Subject (Optional)\" className=\"specific-sub input-text\" onChange={handleChange} id=\"sub-3\"/>\r\n                              <label htmlFor=\"sub-3\" className=\"input-label\">Enter Specific Subject (Optional)</label>\r\n                          <br />\r\n                          <p className=\"text-size\">Select the Subject Categories you would like to be listed under</p>\r\n                          <div className=\"center-hrz\">\r\n                            <div className=\"grid grid-3\">\r\n\r\n                                <div className=\"checkbox input-checkbox\">\r\n                                  <p className=\"text-size-subs\">Mathematics</p>\r\n                                  <input type=\"checkbox\" id=\"maths\" className=\"tutorSubs input-checkbox\" onChange={handleChange} value=\"maths\" style={{display: \"none\"}}/>\r\n                                  <label htmlFor=\"maths\" className=\"input-checkbox-label\"><span className=\"input-checkbox-button\"></span></label>\r\n                                </div>\r\n\r\n                                <div className=\"checkbox\">\r\n                                  <p className=\"text-size-subs\">English</p>\r\n                                  <input type=\"checkbox\" id=\"english\" className=\"tutorSubs input-checkbox\" value=\"english\" style={{display: \"none\"}}/>\r\n                                  <label htmlFor=\"english\" className=\"input-checkbox-label\"><span className=\"input-checkbox-button\"></span></label>\r\n                                </div>\r\n\r\n                                <div className=\"checkbox\">\r\n                                <p className=\"text-size-subs\">Accounting</p>\r\n                                  <input type=\"checkbox\" id=\"accounting\" className=\"tutorSubs input-checkbox\" style={{display: \"none\"}} value=\"accounting\"/>\r\n                                  <label htmlFor=\"accounting\" className=\"input-checkbox-label\"><span className=\"input-checkbox-button\"></span></label> \r\n                                </div>\r\n                                \r\n                                <div className=\"checkbox\">\r\n                                  <p className=\"text-size-subs\">Science</p>\r\n                                  <input type=\"checkbox\" id=\"science\" className=\"tutorSubs input-checkbox\" style={{display: \"none\"}} value=\"science\"/>\r\n                                  <label htmlFor=\"science\" className=\"input-checkbox-label\"><span className=\"input-checkbox-button\"></span></label> \r\n                                </div>\r\n\r\n                                <div className=\"checkbox\">\r\n                                  <p className=\"text-size-subs\">Economics</p>\r\n                                  <input type=\"checkbox\" id=\"economics\" className=\"tutorSubs input-checkbox\" value=\"economics\" style={{display: \"none\"}}/>\r\n                                  <label htmlFor=\"economics\" className=\"input-checkbox-label\"><span className=\"input-checkbox-button\"></span></label> \r\n                                </div>\r\n                                <div className=\"checkbox\">\r\n                                  <p className=\"text-size-subs\">Afrikaans</p>\r\n                                  <input type=\"checkbox\" id=\"afrikaans\" className=\"tutorSubs input-checkbox\" value=\"afrikaans\" style={{display: \"none\"}}/>\r\n                                  <label htmlFor=\"afrikaans\" className=\"input-checkbox-label\"><span className=\"input-checkbox-button\"></span></label> \r\n                                </div>\r\n                            </div>       \r\n                          </div>\r\n                          <div id=\"scrollhere\">\r\n                          </div>\r\n\r\n                          <br />\r\n                          <br />\r\n                           {/* This is Jesse's checkbox */}\r\n                          <p className=\"text-size\">What levels do you tutor?</p>\r\n                          <div className=\"center-hrz\">\r\n                            <div className=\"grid grid-3\">\r\n                              <div className=\"checkbox\">\r\n                                      <p className=\"text-size-levels\">Grade 10</p>\r\n                                      <input type=\"checkbox\" id=\"gr-10\" className=\"tutorLevels input-checkbox\" value=\"gr-10\" style={{display: \"none\"}}/>\r\n                                      <label htmlFor=\"gr-10\" className=\"input-checkbox-label\"><span className=\"input-checkbox-button\"></span></label> \r\n                              </div>\r\n                              <div className=\"checkbox\">\r\n                                      <p className=\"text-size-levels\">Grade 11</p>\r\n                                      <input type=\"checkbox\" id=\"gr-11\" className=\"tutorLevels input-checkbox\" value=\"gr-11\" style={{display: \"none\"}}/>\r\n                                      <label htmlFor=\"gr-11\" className=\"input-checkbox-label\"><span className=\"input-checkbox-button\"></span></label> \r\n                              </div>\r\n                              <div className=\"checkbox\">\r\n                                      <p className=\"text-size-levels\">Grade 12</p>\r\n                                      <input type=\"checkbox\" id=\"gr-12\" className=\"tutorLevels input-checkbox\" value=\"gr-12\" style={{display: \"none\"}}/>\r\n                                      <label htmlFor=\"gr-12\" className=\"input-checkbox-label\"><span className=\"input-checkbox-button\"></span></label> \r\n                              </div>\r\n                              <div className=\"checkbox\">\r\n                                      <p className=\"text-size-levels\">Tertiary Undergrad</p>\r\n                                      <input type=\"checkbox\" id=\"tertiary-under\" className=\"tutorLevels input-checkbox\" value=\"tertiary-under\" style={{display: \"none\"}}/>\r\n                                      <label htmlFor=\"tertiary-under\" className=\"input-checkbox-label\"><span className=\"input-checkbox-button\"></span></label> \r\n                              </div>\r\n                              <div className=\"checkbox\">\r\n                                      <p className=\"text-size-levels\">Tertiary Postgrad</p>\r\n                                      <input type=\"checkbox\" id=\"tertiary-post\" className=\"tutorLevels input-checkbox\" value=\"tertiary-post\" style={{display: \"none\"}}/>\r\n                                      <label htmlFor=\"tertiary-post\" className=\"input-checkbox-label\"><span className=\"input-checkbox-button\"></span></label>\r\n                              </div>\r\n                            </div>\r\n                              \r\n                            \r\n      \r\n                          </div>\r\n                          {/* This is Douglas' checkbox \r\n                          <p className=\"text-size\">What levels do you tutor?</p>\r\n                              <input type=\"checkbox\" id=\"gr-10\" value=\"gr-10\" className=\"tutorLevels input-checkbox\"/>\r\n                              <label className=\"text-size\" htmlFor=\"gr-10\">Grade 10</label>\r\n                              <br />\r\n                              <input type=\"checkbox\" id=\"gr-11\" value=\"gr-11\" className=\"tutorLevels\"/>\r\n                              <label className=\"text-size\" htmlFor=\"gr-11\">Grade 11</label>\r\n                              <br />\r\n                               <input className=\"text-size\" type=\"checkbox\" id=\"gr-12\" value=\"gr-12\" className=\"tutorLevels\"/>\r\n                              <label className=\"text-size\" htmlFor=\"gr-12\">Grade 12</label>\r\n                              <br />\r\n                              <input className=\"text-size\" type=\"checkbox\" id=\"tertiary-under\" value=\"tertiary-under\" className=\"tutorLevels\"/>\r\n                              <label className=\"text-size\" htmlFor=\"tertiary-under\">Tertiary Undergrad</label>\r\n                              <br />\r\n                              <input type=\"checkbox\" id=\"tertiary-post\" value=\"tertiary-post\" className=\"tutorLevels\"/> \r\n                              <label className=\"text-size\" htmlFor=\"tertiary-post\">Tertiary Postgrad</label><br /> */}\r\n                              <p className=\"red-text\" ref={errorRefTutorLevels} style={{display: \"none\"}}>Please select at least one level to tutor</p> \r\n                            <p className=\"red-text\" ref={errorRefTutorCats} style={{display: \"none\"}}>Please select at least one category you would like to be listed under</p>\r\n                              \r\n                              <br />\r\n                              <br />\r\n                          <input className=\"input-text\" type=\"number\" placeholder=\"Enter rate per hour (NAD)(subject to a 10% commission for Tutero)\" onChange={(e)=>setRate(e.target.value)} value={rate} required/>\r\n                          <br />\r\n                          <button className=\"button button2\" type=\"submit\">Submit</button>\r\n                          \r\n                      </form>\r\n                    </div>) \r\n                   }\r\n\r\n                  <br />\r\n                  <br />\r\n                {/* <button onClick={testPlus}>Increment</button>\r\n                <button onClick={testMinus}>Decrement</button> */}\r\n                </div>          \r\n               </> : \r\n               <AccountDetails userDoc={props.userDoc}/>\r\n             }\r\n             </> : <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()}/>       \r\n          }\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n      </div>\r\n\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state=>({\r\n    authStatus: state.authStatus,\r\n    userDetails: state.userDetails,\r\n    userDoc: state.userDoc\r\n  })\r\n  \r\n  const mapDispatchToProps = dispatch=>{\r\n    return bindActionCreators(actionCreators, dispatch)\r\n  }\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Account);\r\n","import React, {useState, useEffect, useRef} from 'react';\r\nimport {connect} from \"react-redux\";      \r\nimport * as actionCreators from \"../../redux/actions\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport moment from \"moment\";\r\nimport { Link } from 'react-router-dom';\r\nimport { nanoid } from 'nanoid';\r\nimport firebase from 'firebase/app';\r\nimport Loading from '../Loading';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Randomuser from \"../../assets/randomuser.png\";\r\n\r\nconst RequestCardTutor = (props) => {\r\n    const history = useHistory();\r\n\tconst modalRef = useRef();\r\n\tconst modalRef2 = useRef();\r\n\tconst linkRef = useRef(\"\");\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n    const openModal = (type)=>{\r\n\t\tswitch(type){\r\n\t\t\tcase \"accept\": \r\n\t\t\tmodalRef.current.classList.add(\"active\");\r\n\t\t\tmodalRef2.current.classList.remove(\"active\");\r\n\t\t\tbreak;\r\n\t\t\tcase \"decline\": \r\n\t\t\tmodalRef2.current.classList.add(\"active\");\r\n\t\t\tmodalRef.current.classList.remove(\"active\");\r\n\t\t}\r\n    }\r\n    const closeModal = (type)=>{\r\n\t\thistory.push(\"/account\");\r\n\t\tconsole.log(\"its supposed to push\")\r\n\t\tswitch(type){\r\n\t\t\tcase \"accept\": \r\n\t\t\tmodalRef.current.classList.remove(\"active\");\r\n\t\t\tbreak;\r\n\t\t\tcase \"decline\": \r\n\t\t\tmodalRef2.current.classList.remove(\"active\");\r\n\t\t\tbreak;\r\n\t\t\tdefault: \r\n\t\t}\r\n    }\r\n\r\n\tconst roomNameRef = useRef();\r\n\tconst otherUserID = props.requestObj.tutee.uid;\r\n\tlet roomNameArr = [];\r\n    roomNameArr.push(props.userDoc.uid);\r\n    if(props.requestObj.tutee.type === \"tutor\"){\r\n        roomNameArr.unshift(`${otherUserID}tutero`);\r\n    }else{\r\n        roomNameArr.push(`tutero${otherUserID}`)\r\n    }\r\n    roomNameRef.current = `${roomNameArr.join(\"\")}`;\r\n\tconsole.log(roomNameRef.current);\r\n\r\n\tconst acceptRequest = ()=>{\r\n\t\tsetIsLoading(true);\r\n\t\tconst firestore = firebase.firestore();\r\n\t\tasync function acceptInFB(){\r\n\t\t\ttry{\t\r\n\t\t\t\tconst userDocSnapshot = await firestore.collection(\"users\").doc(props.userDoc.uid).get();\r\n\t\t\t\tconst userDoc = userDocSnapshot.data();\r\n\t\t\t  //get their previous array from firebase\r\n\t\t\t\tconst tuteeSnapshot = await firestore.collection(\"users\").doc(otherUserID).get();\r\n\t\t\t\tconst tutee = tuteeSnapshot.data();\r\n\t\t\t\tconsole.log(tutee);\r\n\t\t\t\tconsole.log(userDoc);\r\n\t\t\t\tconst previousObjTheirs = tutee.requests.find(el=>el.requestID === props.requestObj.requestID);\r\n\t\t\t\tconst previousObjMine = userDoc.requests.find(el=>el.requestID === props.requestObj.requestID);\r\n\t\t\t\t\r\n\t\t\t\tconst removalFromMine = await firestore.collection(\"users\").doc(props.userDoc.uid).update({\r\n\t\t\t\t\t\t\t\t\trequests: firebase.firestore.FieldValue.arrayRemove(previousObjMine)\r\n\t\t\t\t\t})\r\n\t\t\t\tconst removalFromTheirs = await firestore.collection(\"users\").doc(otherUserID).update({\r\n\t\t\t\t\t\trequests: firebase.firestore.FieldValue.arrayRemove(previousObjTheirs)\r\n\t\t\t\t\t})\r\n\r\n\r\n\t\t\t\t//generate a room link\r\n\t\t\t\tconst newLink = `https://tutero-live.onrender.com/room/${nanoid(12)}`;\r\n\t\t\t\tlinkRef.current = newLink;\r\n\t\t\t\t//construct the new objects\r\n\t\t\t\tconst previousObj = props.requestObj;\r\n\t\t\t\tconst newObjMine = {\r\n\t\t\t\t\t...previousObj,\r\n\t\t\t\t\tstatus: \"accepted\",\r\n\t\t\t\t\tlink: newLink\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst newObjTheirs = {\r\n\t\t\t\t\t...previousObj,\r\n\t\t\t\t\tstatus: \"accepted\",\r\n\t\t\t\t\tlink: newLink,\r\n\t\t\t\t\ttutor: userDoc\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdelete newObjTheirs.tutee\r\n\r\n\t\t\t\t//then add the new object with the modified status to the arrays\r\n\t\t\t\tconst additionToMine = await firestore.collection(\"users\").doc(props.userDoc.uid).update({\r\n\t\t\t\t\trequests: firebase.firestore.FieldValue.arrayUnion(newObjMine)\r\n\t\t\t\t})\r\n\t\t\t\tconst additonToTheirs = await firestore.collection(\"users\").doc(otherUserID).update({\r\n\t\t\t\t\trequests: firebase.firestore.FieldValue.arrayUnion(newObjTheirs)\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconsole.log(\"It actually worked!\");\r\n\t\t        setIsLoading(false);\r\n\t\t\t\topenModal(\"accept\")\r\n\r\n\t\t\t}catch(e){\r\n\t\t\t\tconsole.log(\"You blundered\");\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t}\r\n\t\tacceptInFB()\r\n\t}\r\n\r\n\tconst declineRequest = ()=>{\r\n\t\tsetIsLoading(true);\r\n\t\tconst firestore = firebase.firestore();\r\n\t\tasync function declineInFB(){\r\n\t\t\ttry{\t\r\n\t\t\t\tconst userDocSnapshot = await firestore.collection(\"users\").doc(props.userDoc.uid).get();\r\n\t\t\t\tconst userDoc = userDocSnapshot.data();\r\n\t\t\t  //get their previous array from firebase\r\n\t\t\t\tconst tuteeSnapshot = await firestore.collection(\"users\").doc(otherUserID).get();\r\n\t\t\t\tconst tutee = tuteeSnapshot.data();\r\n\t\t\t\tconsole.log(tutee);\r\n\t\t\t\tconsole.log(userDoc);\r\n\t\t\t\tconst previousObjTheirs = tutee.requests.find(el=>el.requestID === props.requestObj.requestID);\r\n\t\t\t\tconst previousObjMine = userDoc.requests.find(el=>el.requestID === props.requestObj.requestID);\r\n\t\t\t\t\r\n\t\t\t\tconst removalFromMine = await firestore.collection(\"users\").doc(props.userDoc.uid).update({\r\n\t\t\t\t\t\t\t\t\trequests: firebase.firestore.FieldValue.arrayRemove(previousObjMine)\r\n\t\t\t\t\t})\r\n\t\t\t\tconst removalFromTheirs = await firestore.collection(\"users\").doc(otherUserID).update({\r\n\t\t\t\t\t\trequests: firebase.firestore.FieldValue.arrayRemove(previousObjTheirs)\r\n\t\t\t\t\t})\r\n\r\n\r\n\t\t\t\t//generate a room link\r\n\t\t\t\t\r\n\t\t\t\t//construct the new objects\r\n\t\t\t\tconst previousObj = props.requestObj;\r\n\t\t\t\tconst newObjMine = {\r\n\t\t\t\t\t...previousObj,\r\n\t\t\t\t\tstatus: \"declined\",\r\n\t\t\t\t\tlink: \"\"\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst newObjTheirs = {\r\n\t\t\t\t\t...previousObj,\r\n\t\t\t\t\tstatus: \"declined\",\r\n\t\t\t\t\tlink: \"\",\r\n\t\t\t\t\ttutor: userDoc\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdelete newObjTheirs.tutee\r\n\r\n\t\t\t\t//then add the new object with the modified status to the arrays\r\n\t\t\t\tconst additionToMine = await firestore.collection(\"users\").doc(props.userDoc.uid).update({\r\n\t\t\t\t\trequests: firebase.firestore.FieldValue.arrayUnion(newObjMine)\r\n\t\t\t\t})\r\n\t\t\t\tconst additonToTheirs = await firestore.collection(\"users\").doc(otherUserID).update({\r\n\t\t\t\t\trequests: firebase.firestore.FieldValue.arrayUnion(newObjTheirs)\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconsole.log(\"It actually worked!\");\r\n\t\t        setIsLoading(false);\r\n\t\t\t\topenModal(\"decline\");\r\n\r\n\t\t\t}catch(e){\r\n\t\t\t\tconsole.log(\"You blundered\");\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t}\r\n\t\tdeclineInFB()\r\n\t}\r\n\r\n\r\n    return (\r\n        <div className=\"cardRtutor\" style={{position: \"relative\"}}>\r\n\t\t\t\t\t<div className=\"cardRtutor__topDiv u-margin-bottom\">\r\n\t\t\t\t\t\t<div className=\"cardRtutor__topDiv__info\">\r\n\t\t\t\t\t\t\t<div className=\"cardRtutor__img\" style={{backgroundImage:`url(${props.requestObj.tutee.photoURL})`}}>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"column\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"cardRtutor__name\">{props.requestObj.tutee.name}</p>\r\n\t\t\t\t\t\t\t\t\t<div style={{display: \"flex\", alignItems: \"center\"}} >\r\n\t\t\t\t\t\t\t\t\t\t<h1 className=\"cardRtutor__time\">Request made {moment(JSON.parse(props.requestObj.submitTime)).calendar()}</h1>\r\n\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"cardRtutor__topDiv__buttons\">\r\n\t\t\t\t\t\t\t<Link to={`/direct/${roomNameRef.current}`}>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<button className=\"buttonn \" title=\"send this tutee a direct message\">DM</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Link>\r\n                         { \t\t \r\n\t\t\t\t\t\t !isLoading ?\r\n\t\t\t\t\t\t <>\r\n                            <div>\r\n                            <button className=\"buttonn \" title=\"accept this request\" onClick={acceptRequest}>\r\n\t\t\t\t\t\t\t\tAccept \r\n\t\t\t\t\t\t\t</button>\r\n                            </div>\r\n                            <div>\r\n                            <button className=\"buttonn \" title=\"decline this request\" onClick={declineRequest}>\r\n\t\t\t\t\t\t\t      Decline \r\n\t\t\t\t\t\t\t\t</button>   \r\n                            </div>\r\n\t\t\t\t\t\t\t</> : \r\n\t\t\t\t\t\t\t<button className=\"buttonn buttonn--nohover\"><Loading size=\"medium\"/></button>\t\t\t\t\r\n                         }\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"cardRtutor__bottomDiv\">\r\n\t\t\t\t       {\r\n\t\t\t\t\t\t\t !isLoading ?\r\n\t\t\t\t\t\t\t props.requestObj.status === \"accepted\" ? <p className=\"normal-text\">Accepted</p> :\r\n\t\t\t\t\t\t\t props.requestObj.status === \"declined\" ?\r\n\t\t\t\t\t\t\t <p className=\"normal-text red-text\">Declined</p> :  <p className=\"normal-text\">Pending</p>\r\n\t\t\t\t\t\t\t :\r\n\t\t\t\t\t\t\t <Loading size=\"medium\"/>\r\n\t\t\t\t\t\t }\r\n                    <p className=\"cardRtutor__info u-margin-bottom\">{props.requestObj.subject}</p>\t\r\n                    <p className=\"cardRtutor__info u-margin-bottom\">Requested date and time: {moment(JSON.parse(props.requestObj.requestedDateTime)).calendar()}</p>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tprops.requestObj.link !== \"\"? \r\n\t\t\t\t\t\t\t<div>\r\n                              <p className=\"cardRtutor__info u-margin-bottom\">Tutorial Link:</p>\r\n\t\t\t\t\t\t\t  <a href={props.requestObj.link} target=\"_blank\" className=\"normal-text green-text \" style={{backgroundColor: '#1e1e1e', padding: \"1rem\", borderRadius: \"20px\"}}>{props.requestObj.link}</a>\r\n\t\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t <div className=\"modal\"  ref={modalRef}>\r\n            <button className=\"close-button\" onClick={()=>{\r\n                closeModal(\"accept\")\r\n\t\t\t}}>&times;</button>\r\n              <div style={{textAlign: \"center\"}} className=\"u-margin-bottom\">\r\n                <p className=\"white-text bigger-text\">A tutorial room link has been sent to {props.requestObj.tutee.name}</p>\r\n                  <small className=\"normal-text white-text\">Visit this link to start the virtual tutorial (make sure the tutee visits the same link)</small> <br />\r\n                  <a className=\"normal-text green-text\" href={linkRef.current} target=\"_blank\">{linkRef.current}</a>\r\n             </div>\r\n\t\t\t <div className=\"center-hrz\">\r\n\t\t\t\t<button className=\"buttonn\"  onClick={()=>{\r\n\t\t\t\t\tcloseModal(\"accept\")\r\n\t\t\t\t}}>OK</button>\r\n\t\t\t </div>\r\n            </div>\r\n\r\n\t\t\t<div className=\"modal\"  ref={modalRef2}>\r\n            <button className=\"close-button\" onClick={()=>{\r\n                closeModal(\"decline\")\r\n\t\t\t}}>&times;</button>\r\n              <div style={{textAlign: \"center\"}} className=\"u-margin-bottom\">\r\n                <p className=\"white-text bigger-text\">You have Declined {props.requestObj.tutee.name}'s tutorial request</p>\r\n\t\t\t\t<button className=\"buttonn\"  onClick={()=>{\r\n                closeModal(\"decline\")\r\n\t\t\t}}>OK</button>\r\n              </div>\r\n            </div>\r\n\t\t</div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state=>({\r\n    authStatus: state.authStatus,\r\n    userDetails: state.userDetails,\r\n    userDoc: state.userDoc\r\n  })\r\n  \r\n  const mapDispatchToProps = dispatch=>{\r\n    return bindActionCreators(actionCreators, dispatch)\r\n  }\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RequestCardTutor)\r\n","export default __webpack_public_path__ + \"static/media/randomuser.c8c8467d.png\";","import React, {useEffect, useState, useRef} from 'react';\r\nimport {connect} from \"react-redux\";      \r\nimport * as actionCreators from \"../../redux/actions\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport firebase from 'firebase/app';\r\nimport RequestCardTutor from \"../Request/RequestCardTutor\";\r\nimport Modal from 'react-modal';\r\n\r\nconst TutorDash = (props) => {\r\n    const modalRef = useRef();\r\n\r\n    useEffect(()=>{\r\n        const firestore = firebase.firestore();\r\n        //fetch the user object from firebase and update the one in redux\r\n        async function getUserObj(){\r\n            try{\r\n                const userObjSnapshot = await firestore.collection(\"users\").doc(props.userDoc.uid).get();\r\n                const userObj = userObjSnapshot.data();\r\n                props.setUserDoc(userObj);\r\n            }catch(e){\r\n                console.log(e)\r\n            }\r\n            \r\n        }\r\n        getUserObj()\r\n    },[])\r\n\r\n    useEffect(()=>{\r\n        console.log(props.userDoc.requests);\r\n    },[])\r\n\r\n    const getSeconds = (dateObj)=>{\r\n        const date = new Date(JSON.parse(dateObj));\r\n        const seconds = date.getTime();\r\n        return seconds;\r\n      }\r\n    return (\r\n        <div>\r\n            <div className=\"center-hrz text-size center-vert--row u-margin-bottom\">\r\n                    <div style={{backgroundImage: `url(${props.userDetails.photoURL})`}} className=\"profile_pic\"></div>\r\n                    <div style={{margin: \"40px 0px 0px 20px\"}}>\r\n                    <p>Hello,\r\n                    <br/><span style={{fontWeight: \"bold\"}}>{props.userDetails.displayName}</span></p>\r\n                    </div>\r\n           </div>\r\n\r\n            <section id=\"requestsTutor\">\r\n                <div className=\"center-hrz\">\r\n                <h1 className=\"screen__header\" >Tutorial requests</h1>\r\n                </div>\r\n              <div className=\"center-hrz--col\">\r\n                {\r\n                    props.userDoc.requests ? \r\n                    props.userDoc.requests.length !== 0 ?\r\n                    props.userDoc.requests.map(el=>el).sort((a,b)=>getSeconds(b.submitTime)-getSeconds(a.submitTime)).map(el=><RequestCardTutor requestObj={el} key={el.requestID}/>) : <p className=\"bigger-text\" style={{backgroundColor: 'white', padding: \"1rem\" , borderRadius: \"20px\"}}>No Requests</p>\r\n                     :\r\n                    null\r\n                }\r\n\r\n              </div>\r\n\r\n            </section>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state=>({\r\n    authStatus: state.authStatus,\r\n    userDetails: state.userDetails,\r\n    userDoc: state.userDoc\r\n  })\r\n  \r\n  const mapDispatchToProps = dispatch=>{\r\n    return bindActionCreators(actionCreators, dispatch)\r\n  }\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TutorDash)\r\n","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport Logo from \"../assets/blabble.svg\";\r\n///uhiuhiuhiuhiuhiuhiuhiuhiuhiuhiuhiuhiuhiuhiuhiuhiuhiuh\r\n///hey wasup, its jesse\r\n\r\n\r\nconst UserThumb = ({otherUser, myUID}) => {\r\n    ///////this is how you will create a new room id\r\n    let roomNameArr = [];\r\n    roomNameArr.push(myUID);\r\n    if(otherUser.type === \"tutor\"){\r\n        roomNameArr.unshift(`${otherUser.uid}tutero`);\r\n    }else{\r\n        roomNameArr.push(`tutero${otherUser.uid}`)\r\n    }\r\n    const roomName = `${roomNameArr.join(\"\")}`;\r\n\r\n    return (\r\n        <>        \r\n            <div style={{display: \"flex\", justifyContent: \"space-evenly\", backgroundColor: \"white\", margin: \"10px\", boxShadow:\"0px 0px 20px 10px rgba(51,51,51,0.1)\", padding: \"10px\", width: \"80vw\", marginRight: \"auto\", marginLeft: \"auto\"}}>\r\n            <p style={{color: \"black\", backgroundColor: \"grey\", padding:\"10px\", margin: \"30px\"}}>uid: {otherUser.uid}</p>\r\n            <div style={{width: \"100px\", height: \"100px\", backgroundColor: \"lime\", borderRadius: \"50%\", border: \"2px solid black\"}}></div>\r\n            <Link to={`/direct/${roomName}`} style={{color: \"black\", backgroundColor: \"#00BFFF\", padding:\"10px\", margin: \"30px\", borderRadius: \"5px\", textDecoration: \"none\"}}>Direct Message</Link>\r\n       </div>\r\n       </>\r\n    )\r\n}\r\n\r\nexport default UserThumb\r\n","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\n//\r\nconst Suggestion = (props) => {\r\n    return (\r\n        <Link to={`/subject/${props.subject}`}>\r\n            <div className=\"selected-subjects text-size\">\r\n                <p className=\"tutee-subject-card-names\">{props.subject}</p>\r\n            </div>\r\n        </Link>\r\n\r\n    )\r\n}\r\n\r\nexport default Suggestion\r\n","import React, {useState, useEffect} from 'react';\r\nimport {connect} from \"react-redux\";      \r\nimport * as actionCreators from \"../redux/actions\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport firebase from 'firebase/app';\r\nimport UserThumb from './UserThumb';\r\n\r\n\r\nconst DMList = ({type, ...props}) => {\r\n    const [otherParties, setOtherParties] = useState([])\r\n    useEffect(()=>{\r\n        //get the list of tutors/tutees from firebase\r\n        const firestore = firebase.firestore();\r\n        async function getOthers(type){\r\n            const othersSnapshot = await firestore.collection(`${type}s`).get();\r\n            const others = othersSnapshot.docs.map(doc=>doc.data());\r\n            console.log(others)\r\n            setOtherParties(others);\r\n        }\r\n        getOthers(type);\r\n    }, [])\r\n\r\n    useEffect(()=>{\r\n        console.log(otherParties)\r\n    })\r\n    return (\r\n    <div>\r\n        <h1>A list of {`${type}s`} to DM</h1>\r\n        \r\n        {\r\n            otherParties.map(el=><UserThumb otherUser={el} myUID={props.userDoc.uid}/>)\r\n        }\r\n    </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state=>({\r\n    authStatus: state.authStatus,\r\n    userDetails: state.userDetails,\r\n    userDoc: state.userDoc\r\n  })\r\n  \r\n  const mapDispatchToProps = dispatch=>{\r\n    return bindActionCreators(actionCreators, dispatch)\r\n  }\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DMList)\r\n","import React, {useState, useEffect, useRef} from 'react';\r\nimport {connect} from \"react-redux\";      \r\nimport * as actionCreators from \"../../redux/actions\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport firebase from 'firebase/app';\r\nimport Loading from '../Loading';\r\nimport Randomuser from \"../../assets/randomuser.png\";\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport moment from \"moment\";\r\nimport { nanoid } from 'nanoid';\r\nimport { Rating, RatingView } from 'react-simple-star-rating';\r\n\r\n\r\nconst RequestCardTutee = (props) => {\r\n\tconst history = useHistory();\r\n\tconst modalRef = useRef();\r\n\tconst modalRef2 = useRef();\r\n\tconst linkRef = useRef(\"\");\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\tconst roomNameRef = useRef();\r\n\tconst otherUserID = props.requestObj.tutor.uid;\r\n\tlet roomNameArr = [];\r\n\tconst [rating, setRating] = useState(0) // initial rating value\r\n\r\n\t// Catch Rating value\r\n\tconst handleRating = (rate) => {\r\n\t  setRating(rate)\r\n\t  // Some logic\r\n\t}\r\n\r\n    roomNameArr.push(props.userDoc.uid);\r\n    if(props.requestObj.tutor.type === \"tutor\"){\r\n        roomNameArr.unshift(`${otherUserID}tutero`);\r\n    }else{\r\n        roomNameArr.push(`tutero${otherUserID}`)\r\n    }\r\n    roomNameRef.current = `${roomNameArr.join(\"\")}`;\r\n\r\n\tconst openModal = ()=>{\r\n\t\tconsole.log(\"its supposed to open\")\r\n\t\tmodalRef.current.classList.add(\"active\");\r\n\t\tconsole.log(\"to the base\");\r\n\t}\r\n\tconst closeModal = ()=>{\r\n\t\tmodalRef.current.classList.remove(\"active\");\r\n\t\t// console.log(modalRef.current.classList.add(\"active\"))\r\n\t}\r\n\r\n\r\n\tconst confirmAndRate = ()=>{\r\n\t\tsetIsLoading(true);\r\n\t\t//rate the tutor by incrementing the number in the tutor object\r\n\t\t//remove the request from the tutor's and tutee's user doc\r\n\t\tconst firestore = firebase.firestore();\r\n\t\tconsole.log(firebase)\r\n\t\tasync function confirm(){\t\t\r\n\t\t\ttry{\r\n\t\t\t   const addition = await firestore.collection(\"tutors\").doc(otherUserID).update({\r\n\t\t\t\t   rating: firebase.firestore.FieldValue.arrayUnion(\r\n\t\t\t\t\t   {\r\n\t\t\t\t\t\trating,\r\n\t\t\t\t\t\tid: nanoid(12)\r\n\t\t\t\t\t   }\r\n\t\t\t\t\t   )\r\n\t\t\t   })\r\n\r\n\r\n\t\t\t   const removeFromMinesnapshot = await firestore.collection(\"users\").doc(props.userDoc.uid).get();\r\n\t\t\t   const removeFromMine = removeFromMinesnapshot.data().requests.find(el=>el.requestID === props.requestObj.requestID);\r\n\t\t\t   console.log(removeFromMine)\r\n\t\t\t   console.log(removeFromMinesnapshot.data().requests)\r\n\t\t\t   const removal = await firestore.collection(\"users\").doc(props.userDoc.uid).update({\r\n\t\t\t\t   requests: firebase.firestore.FieldValue.arrayRemove(removeFromMine)\r\n\t\t\t   })\r\n\r\n\t\t\t   const removeFromTheirsnapshot = await firestore.collection(\"users\").doc(otherUserID).get();\r\n\t\t\t   const removeFromTheirs = removeFromTheirsnapshot.data().requests.find(el=>el.requestID === props.requestObj.requestID);\r\n\t\t\t   console.log(removeFromTheirsnapshot.data())\r\n\t\t\t   const removal2 = await firestore.collection(\"users\").doc(otherUserID).update({\r\n\t\t\t\t   requests: firebase.firestore.FieldValue.arrayRemove(removeFromTheirs)\r\n\t\t\t   })\r\n\t\t\t   setIsLoading(false);\r\n\t\t\t   console.log(\"we did it\")\r\n\t\t\t   history.push(\"/account\");\r\n\t\t\t}catch(e){\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t}\r\n\t\tconfirm();\r\n\r\n\r\n\t}\r\n\r\n\r\n\tconst deleteRequest = ()=>{\r\n\r\n\t\tsetIsLoading(true);\r\n\t\t//rate the tutor by incrementing the number in the tutor object\r\n\t\t//remove the request from the tutor's and tutee's user doc\r\n\t\tconst firestore = firebase.firestore();\r\n\t\tconsole.log(firebase)\r\n\t\tasync function confirm(){\t\t\r\n\t\t\ttry{\r\n\t\t\t   const removeFromMinesnapshot = await firestore.collection(\"users\").doc(props.userDoc.uid).get();\r\n\t\t\t   const removeFromMine = removeFromMinesnapshot.data().requests.find(el=>el.requestID === props.requestObj.requestID);\r\n\t\t\t   console.log(removeFromMine)\r\n\t\t\t   console.log(removeFromMinesnapshot.data().requests)\r\n\t\t\t   const removal = await firestore.collection(\"users\").doc(props.userDoc.uid).update({\r\n\t\t\t\t   requests: firebase.firestore.FieldValue.arrayRemove(removeFromMine)\r\n\t\t\t   })\r\n\r\n\t\t\t   const removeFromTheirsnapshot = await firestore.collection(\"users\").doc(otherUserID).get();\r\n\t\t\t   const removeFromTheirs = removeFromTheirsnapshot.data().requests.find(el=>el.requestID === props.requestObj.requestID);\r\n\t\t\t   console.log(removeFromTheirsnapshot.data())\r\n\t\t\t   const removal2 = await firestore.collection(\"users\").doc(otherUserID).update({\r\n\t\t\t\t   requests: firebase.firestore.FieldValue.arrayRemove(removeFromTheirs)\r\n\t\t\t   })\r\n\t\t\t   setIsLoading(false);\r\n\t\t\t   console.log(\"we did it\")\r\n\t\t\t   history.push(\"/account\");\r\n\t\t\t}catch(e){\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t}\r\n\t\tconfirm();\t\r\n\t}\r\n\t\r\n\r\n    return (\r\n        \r\n                <div className=\"cardRtutee\" style={{position: \"relative\"}}>\r\n\t\t\t\t\t<div className=\"cardRtutee__topDiv u-margin-bottom\">\r\n\t\t\t\t\t\t<div className=\"cardRtutee__topDiv__info\">\r\n\t\t\t\t\t\t\t<div className=\"cardRtutee__img\" style={{backgroundImage:`url(${props.requestObj.tutor.photoURL})`}}>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"column\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"cardRtutee__name\">{props.requestObj.tutor.name}</p>\r\n\t\t\t\t\t\t\t\t\t<div style={{display: \"flex\", alignItems: \"center\"}} >\r\n\t\t\t\t\t\t\t\t\t\t<h1 className=\"cardRtutee__time\">Request made {moment(JSON.parse(props.requestObj.submitTime)).calendar()}</h1>\r\n\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"cardRtutee__topDiv__buttons\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Link to={`/direct/${roomNameRef.current}`}>\r\n\t\t\t\t\t\t\t\t  <button className=\"buttonn \" title=\"send this tutor a direct message\" >DM</button>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"cardRtutee__bottomDiv\">\r\n                    <p className=\"cardRtutee__info u-margin-bottom\">Status: {props.requestObj.status}</p>\t\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tprops.requestObj.status === \"accepted\" ? \r\n\t\t\t\t\t\t<div className=\"u-margin-bottom\">\r\n\t\t\t\t\t\t<div className=\"u-margin-bottom\">\r\n\t\t\t\t\t\t<p className=\"cardRtutee__info u-margin-bottom\">Visit this link to start the virtual tutorial (make sure the tutee visits the same link)</p>\r\n\t\t\t\t\t\t<a href={props.requestObj.link} target=\"_blank\" className=\"normal-text green-text \" style={{backgroundColor: '#1e1e1e', padding: \"1rem\", borderRadius: \"20px\"}}>{props.requestObj.link}</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<button className=\"buttonn\" onClick={()=>{\r\n\t\t\t\t\t\t\topenModal();\r\n\t\t\t\t\t\t}}>Confirm Tutorial</button>\r\n\t\t\t\t\t   </div> :\r\n\t\t\t\t\t     !isLoading ? <button className=\"buttonn\" onClick={deleteRequest}>Delete Request</button> : <button className=\"buttonn buttonn--nohover\"><Loading size=\"medium\"/></button>\r\n\t\t\t\t\t}\r\n                    <p className=\"cardRtutor__info u-margin-top\">Requested date and time: {moment(JSON.parse(props.requestObj.requestedDateTime)).calendar()}</p>\r\n                  \r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"modal\"  ref={modalRef}>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t!isLoading ? <button className=\"close-button\" onClick={closeModal}>&times;</button> : <Loading size=\"small\"/>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div style={{textAlign: \"center\"}} className=\"u-margin-bottom\">\r\n\t\t\t\t\t\t<p className=\"white-text bigger-text\">Rate the tutor</p>\r\n\t\t\t\t\t\t<small className=\"normal-text white-text\">By rating the tutor, you are confirming that the tutorial happened and you are satisfied with it. The funds will then be transferred to the tutor</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"center-hrz--col\">\r\n\t\t\t\t\t   <Rating onClick={handleRating} ratingValue={rating} /* Rating Props */ />\r\n\t\t\t\t\t   <p className=\"white-text normal-text\">{rating}/5</p>\r\n\t\t\t\t\t   {\r\n                        !isLoading ?\r\n\t\t\t\t\t\trating !== 0 ? \r\n\t\t\t\t\t   <button className=\"buttonn buttonn--flipped u-margin-top\" onClick={confirmAndRate}>Confirm and rate</button>\r\n\t\t\t\t\t   : null : <button className=\"buttonn buttonn--nohover\"><Loading size=\"medium\"/></button>\r\n\t\t\t\t\t   }\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t</div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state=>({\r\n    authStatus: state.authStatus,\r\n    userDetails: state.userDetails,\r\n    userDoc: state.userDoc\r\n  })\r\n  \r\n  const mapDispatchToProps = dispatch=>{\r\n    return bindActionCreators(actionCreators, dispatch)\r\n  }\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RequestCardTutee)\r\n","import React, {useState, useEffect} from 'react';\r\nimport {connect} from \"react-redux\";      \r\nimport * as actionCreators from \"../redux/actions\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport firebase from 'firebase/app';\r\nimport Loading from './Loading';\r\nimport {Link} from \"react-router-dom\";\r\n\r\n//userObj is the object of the current tutor\r\n//userDoc is the user object of the current tutee/ ie the user viewing this page\r\n\r\nconst TutorCard = (props) => {\r\n\tconst [fave,setFave] = useState(false);\r\n\tconst [isLoading ,setIsLoading] = useState(false);\r\n\r\n\r\n\tlet roomNameArr = [];\r\n    roomNameArr.push(props.userDoc.uid);\r\n    if(props.userObj.type === \"tutor\"){\r\n        roomNameArr.unshift(`${props.userObj.uid}tutero`);\r\n    }else{\r\n        roomNameArr.push(`tutero${props.userObj.uid}`)\r\n    }\r\n    const roomName = `${roomNameArr.join(\"\")}`;\r\n\r\n\t// console.log(props.userDoc);\r\n\tuseEffect(()=>{\r\n\t\tconst faveArr = props.userDoc.favorites;\r\n\t\t// console.log(faveArr);\r\n\t\t// console.log(props.userObj.uid)\r\n\r\n\t\t//check if the userID is in the favoritesArr;\r\n\t\tconst faveBool = faveArr.some(el=> el === props.userObj.uid);\r\n\t\t// console.log(faveBool);\r\n\t\tsetFave(faveBool);\r\n\t},[]);\r\n\r\n\tconst toggleFave = ()=>{\r\n\t\tconst firestore = firebase.firestore();\r\n\t\tsetIsLoading(true);\r\n\t\t//add or remove the fave from the user's and tutees array on firebase depending on the current state;\r\n\t\tasync function changeFave(){\r\n\t\t\ttry{\r\n\t\t\t\tif(fave){\r\n\t\t\t\t\t//remove from\r\n\t\t\t\t\t//users collection\r\n\t\t\t\t\tconst removalFromUsers = await firestore.collection(\"users\").doc(props.userDoc.uid).update({\r\n\t\t\t\t\t\tfavorites: firebase.firestore.FieldValue.arrayRemove(props.userObj.uid)\r\n\t\t\t\t\t});\r\n\t\t\t\t\t//tutee collection\r\n\t\t\t\t\tconst removalFromTutees = await firestore.collection(\"tutees\").doc(props.userDoc.uid).update({\r\n\t\t\t\t\t\tfavorites: firebase.firestore.FieldValue.arrayRemove(props.userObj.uid)\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\t//add to\r\n\t\t\t\t\t//users collection\r\n\t\t\t\t\tconst additionToUsers = await firestore.collection(\"users\").doc(props.userDoc.uid).update({\r\n\t\t\t\t\t\tfavorites: firebase.firestore.FieldValue.arrayUnion(props.userObj.uid)\r\n\t\t\t\t\t});\r\n\t\t\t\t\t//tutee collection\r\n\t\t\t\t\tconst additionToTutees = await firestore.collection(\"tutees\").doc(props.userDoc.uid).update({\r\n\t\t\t\t\t\tfavorites: firebase.firestore.FieldValue.arrayUnion(props.userObj.uid)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(\"changeFave worked\");\r\n\t\t        getUserObj();\r\n\t\t\t}catch(e){\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t}\r\n\t\tchangeFave();\r\n\r\n\t\t//change the fave local state;\r\n\t\t//fetch the userObj again and update the redux persist state;\r\n\t\tasync function getUserObj(){\r\n\t\t\ttry{\r\n\t\t\t\tconst userObjSnapshot = await firestore.collection(\"users\").doc(props.userDoc.uid).get();\r\n\t\t\t\tconst userObj = userObjSnapshot.data();\r\n\t\t\t\tprops.setUserDoc(userObj);\r\n\t\t\t\tconsole.log(\"getUserObj worked\");\r\n\t\t        setFave(state=>!state);\r\n\t\t        setIsLoading(false);\r\n\t\t\t\tconsole.log(props.userDoc);\r\n\t\t\t}catch(e){\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tconst getRating = ()=>{\r\n\t\tconst ratingArr = props.userObj.rating;\r\n\t\tconsole.log(ratingArr);\r\n\t\tif(ratingArr.length !== 0){\r\n\t\t\tconst outOfFive = ratingArr.reduce((a,c)=>a+c.rating, 0) / ratingArr.length;\r\n\t\t    return outOfFive;\r\n\t\t}else{\r\n\t\t\treturn \"\"\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"card\">\r\n\t\t\t\t\t<div className=\"card__topDiv\">\r\n\t\t\t\t\t\t<div className=\"card__topDiv__info\">\r\n\t\t\t\t\t\t\t<div className=\"card__img\" style={{backgroundImage:`url(${props.photoURL})`}}>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"column\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"card__name\">{props.name}</p>\r\n\t\t\t\t\t\t\t\t\t<div style={{display: \"flex\", alignItems: \"center\"}} >\r\n\t\t\t\t\t\t\t\t\t\t<h1 className=\"card__price\">N$ {props.userObj.rate}<span>/hr</span></h1>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card__rating\">\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t!getRating() == \"\"?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"card__rating\">{getRating()}/5<i className=\"fa fa-star star card__star\" aria-hidden=\"true\"></i></p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card__topDiv__buttons\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t   <Link to={`/direct/${roomName}`}><button className=\"buttonn button-tutor-card-small-screen\" title=\"send this tutor a direct message\" onClick={()=>{\r\n\t\t\t\t\t\t\t\t   console.log(roomName)\r\n\t\t\t\t\t\t\t   }}>DM</button></Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t  <Link to={`/request/${props.userObj.uid}`}><button className=\"buttonn button-tutor-card-small-screen\" title=\"request a tutorial\">Request</button></Link> \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t   <button className=\"buttonn button-tutor-card-small-screen\" onClick={ toggleFave} title={fave ? \"Remove from favorites\" : \"Add to favorites\"}>\r\n\t\t\t\t\t\t\t\t   {\r\n\t\t\t\t\t\t\t\t\t   isLoading ? <Loading size=\"small\"/> : \t\t\t\t\t\t\t   \r\n\t\t\t\t\t\t\t\t\t   fave ? <i className=\"fas fa-heart\"></i> : \r\n\t\t\t\t\t\t\t\t\t   <i className=\"far fa-heart\"></i>\r\n\t\t\t\t\t\t\t\t   }\t\t\t\t     \r\n\t\t\t\t\t\t\t\t   </button>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"card__bottomDiv\">\r\n\t\t\t\t\t<div className=\"grid grid-2\">\r\n\t\t\t\t\t<div className=\"card__list\">\r\n\t\t\t\t\t   <h3 className=\"card__list__header\">Specific subjects</h3>\r\n\t\t\t\t\t   <ul className=\"card__list__list\">\r\n\t\t\t\t\t\t   {\r\n\t\t\t\t\t\t\t   props.userObj.specSubs.map(el=>(\r\n\t\t\t\t\t\t\t\t   <li className=\"capitalize\" key={el}>{el}</li>\r\n\t\t\t\t\t\t\t   ))\r\n\t\t\t\t\t\t   }\r\n\t\t\t\t\t   </ul>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"card__list\">\r\n\t\t\t\t\t   <h3 className=\"card__list__header\">General subjects</h3>\r\n\t\t\t\t\t\t<ul className=\"card__list__list\">\r\n\t\t\t\t\t\t   {\r\n\t\t\t\t\t\t\t   props.userObj.categories.map(el=>(\r\n\t\t\t\t\t\t\t\t   <li className=\"capitalize\" key={el}>{el}</li>\r\n\t\t\t\t\t\t\t   ))\r\n\t\t\t\t\t\t   }\r\n\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"card__list\">\r\n\t\t\t\t\t   <h3 className=\"card__list__header\">Credentials</h3>\r\n\t\t\t\t\t\t<ul className=\"card__list__list\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t   props.userObj.credentials.map(el=>(\r\n\t\t\t\t\t\t\t\t   <li className=\"capitalize\" key={el}>{el}</li>\r\n\t\t\t\t\t\t\t   ))\r\n\t\t\t\t\t\t   }\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"card__list\">\r\n\t\t\t\t\t   <h3 className=\"card__list__header\">Levels Tutored</h3>\r\n\t\t\t\t\t\t<ul className=\"card__list__list\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t   props.userObj.levels.map(el=>(\r\n\t\t\t\t\t\t\t\t   <li className=\"capitalize\" key={el}>{el}</li>\r\n\t\t\t\t\t\t\t   ))\r\n\t\t\t\t\t\t   }\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t</div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state=>({\r\n    authStatus: state.authStatus,\r\n    userDetails: state.userDetails,\r\n    userDoc: state.userDoc\r\n  })\r\n  \r\n  const mapDispatchToProps = dispatch=>{\r\n    return bindActionCreators(actionCreators, dispatch)\r\n  }\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TutorCard);\r\n","//this wil;l fetch the individual data from firebase and render the tutorCard that was favorited\r\nimport React, {useEffect, useState} from 'react';\r\nimport firebase from 'firebase/app';\r\nimport {connect} from \"react-redux\";      \r\nimport * as actionCreators from \"../redux/actions\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport TutorCard from './TutorCard';\r\nimport Loading from './Loading';\r\n\r\n\r\nconst TutorCardParent = (props) => {\r\n    const [userObject, setUserObject] = useState(null)\r\n    useEffect(()=>{\r\n        console.log(props.userID);\r\n\r\n        //fetch the object from firebase from the tutors collection\r\n        const firestore = firebase.firestore();\r\n        async function getUserObj(){\r\n            try{\r\n                const userObjSnapshot = await firestore.collection(\"tutors\").doc(props.userID).get();\r\n                const userObj = userObjSnapshot.data();\r\n                setUserObject(userObj);\r\n            }catch(e){\r\n                console.log(e)\r\n            }\r\n\r\n        }\r\n\r\n        getUserObj();\r\n\r\n    },[])\r\n    return (\r\n       <div className=\"center-hrz\">\r\n           {\r\n              userObject ? \r\n              <TutorCard name={userObject.name} photoURL={userObject.photoURL} key={userObject.uid} uid={userObject.uid} userObj={userObject}/> : \r\n              <div className=\"card\" style={{backgroundColor: '#1e1e1e',}}>\r\n              <Loading size=\"medium\" />\r\n              </div>\r\n           }\r\n       </div>\r\n    )\r\n}\r\nconst mapStateToProps = state=>({\r\n    authStatus: state.authStatus,\r\n    userDetails: state.userDetails,\r\n    userDoc: state.userDoc\r\n  })\r\n  \r\n  const mapDispatchToProps = dispatch=>{\r\n    return bindActionCreators(actionCreators, dispatch)\r\n  }\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TutorCardParent)\r\n","import React from 'react';\r\nimport DMList from '../DMList';\r\nimport {connect} from \"react-redux\";      \r\nimport * as actionCreators from \"../../redux/actions\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport { useEffect } from 'react';\r\nimport Suggestion from './suggestion';\r\nimport firebase from 'firebase/app';\r\nimport RequestCardTutee from \"../Request/RequestCardTutee\";\r\nimport TutorCardParent from '../TutorCardParent';\r\n\r\n\r\nconst TuteeDash = (props) => {\r\n\r\n  useEffect(()=>{\r\n    const firestore = firebase.firestore();\r\n    //fetch the user object from firebase and update the one in redux\r\n    async function getUserObj(){\r\n        try{\r\n            const userObjSnapshot = await firestore.collection(\"users\").doc(props.userDoc.uid).get();\r\n            const userObj = userObjSnapshot.data();\r\n            props.setUserDoc(userObj);\r\n        }catch(e){\r\n            console.log(e)\r\n        }  \r\n    }\r\n    getUserObj()\r\n},[])\r\n\r\n\r\nconst getSeconds = (dateObj)=>{\r\n  const date = new Date(JSON.parse(dateObj));\r\n  const seconds = date.getTime();\r\n  return seconds;\r\n}\r\n    return (\r\n        <div>\r\n         {/* <DMList type={\"tutor\"}/> */}\r\n           {/* <img src={props.userDetails.photoURL} alt=\"profile Image\" /> */} \r\n           <div className=\"center-hrz text-size center-vert--row\">\r\n                    <div style={{backgroundImage: `url(${props.userDetails.photoURL})`}} className=\"profile_pic\"></div>\r\n                    <div style={{margin: \"40px 0px 0px 20px\"}}>\r\n                    <p >Hello,\r\n                    <br/><span style={{fontWeight: \"bold\"}}>\r\n                    {props.userDetails.displayName}</span></p>\r\n                    </div>\r\n           </div>\r\n           \r\n           <h1 className=\"center-hrz text-size\" style={{marginTop: \"20px\"}}>What would you like to learn today?</h1>\r\n           <div className=\"grid grid-3 subjects-parent\">\r\n               {\r\n                   props.userDoc.subjects.map(el=><Suggestion subject={el} key={el}/>)\r\n               }\r\n           </div>\r\n\r\n           <section id=\"requestsTutee\" className=\"u-margin-bottom-big\">\r\n                <div className=\"center-hrz\">\r\n                <h1 className=\"screen__header\" >Tutorial requests you made</h1>\r\n                </div>\r\n              <div className=\"center-hrz--col\">\r\n                {\r\n                    props.userDoc.requests ?\r\n                    props.userDoc.requests.length !== 0 ?\r\n                    props.userDoc.requests.map(el=>el).sort((a,b)=>getSeconds(b.submitTime)-getSeconds(a.submitTime)).map(el=><RequestCardTutee requestObj={el} key={el.requestID}/>) : <p className=\"bigger-text\" style={{backgroundColor: 'white', padding: \"1rem\" , borderRadius: \"20px\"}}>No Requests</p> \r\n                    :\r\n                    null\r\n                }\r\n\r\n              </div>\r\n\r\n            </section>\r\n\r\n            <section id=\"faveTutors\">\r\n              <div className=\"center-hrz\">\r\n                  <h1 className=\"screen__header\" >Your Favorite Tutors</h1>\r\n              </div>\r\n\r\n              <div className=\"\">\r\n                  {\r\n                    props.userDoc.favorites ?\r\n                    props.userDoc.favorites.length !== 0 ?\r\n                    props.userDoc.favorites.map(el=><TutorCardParent key={el} userID={el}/>) : <p className=\"bigger-text\" style={{backgroundColor: 'white', padding: \"1rem\" , borderRadius: \"20px\"}}>No Favorites</p> \r\n                    : null\r\n                  }\r\n                \r\n              </div>\r\n\r\n            </section>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state=>({\r\n    authStatus: state.authStatus,\r\n    userDetails: state.userDetails,\r\n    userDoc: state.userDoc\r\n  })\r\n  \r\n  const mapDispatchToProps = dispatch=>{\r\n    return bindActionCreators(actionCreators, dispatch)\r\n  }\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TuteeDash)\r\n","import React, {useEffect} from 'react';\r\nimport {connect} from \"react-redux\";      \r\nimport * as actionCreators from \"../redux/actions\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport firebase from 'firebase/app';\r\nimport {compose} from \"redux\";\r\nimport Logo from \"../assets/blabble.svg\";\r\nimport {Redirect, Route, Link, } from \"react-router-dom\";\r\nimport TutorDash from \"./Dashboard/TutorDash\";\r\nimport TuteeDash from \"./Dashboard/TuteeDash\";\r\n\r\nconst Home = (props) => {\r\n\r\n    useEffect(()=>{\r\n        console.log(props.userDetails)\r\n      })\r\n      console.log(firebase.auth().currentUser);\r\n    \r\n      if(!props.authStatus || !props.userDoc.hasOwnProperty(\"type\")){\r\n        return <Redirect to=\"/account\"/>\r\n      }\r\n\r\n      \r\n    return (\r\n        <>  \r\n        <div className=\"screen\">\r\n            <div className=\"Home\">\r\n                  {\r\n                      props.userDoc.type === \"tutor\" ?\r\n                      <TutorDash/>:<TuteeDash/>\r\n                  }\r\n              </div> \r\n        </div>\r\n\r\n      </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state=>({\r\n    authStatus: state.authStatus,\r\n    userDetails: state.userDetails,\r\n    userDoc: state.userDoc\r\n  })\r\n  \r\n  const mapDispatchToProps = dispatch=>{\r\n    return bindActionCreators(actionCreators, dispatch)\r\n  }\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)\r\n","import React, {useEffect, useState} from 'react';\r\nimport {connect} from \"react-redux\";      \r\nimport * as actionCreators from \"../../redux/actions\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport {Redirect, Route, Link} from \"react-router-dom\";\r\nimport firebase from 'firebase/app';\r\nimport {firestoreConnect} from \"react-redux-firebase\"\r\nimport Loading from '../Loading';\r\nimport TutorCard from '../TutorCard';\r\n\r\nconst Subject = (props) => {\r\n    const currentRoute = props.match.params.subject;\r\n    const [tutors, setTutors] = useState();\r\n\r\n    useEffect(()=>{\r\n        //fetch all the math tutors from firebase firestore\r\n        const firestore = firebase.firestore();\r\n\r\n        async function fetchTutors(){\r\n            try{\r\n                const querySnapShot = await firestore.collection(\"tutors\").where(\"categories\", \"array-contains\", currentRoute).get();\r\n                const tutorsArr = [];\r\n                querySnapShot.docs.forEach(doc=>{\r\n                    console.log(doc.data());\r\n                    tutorsArr.push(doc.data());\r\n                })\r\n                setTutors(tutorsArr);\r\n            }catch(e){\r\n                console.log(e)\r\n            }\r\n\r\n        }\r\n\r\n        fetchTutors();\r\n        //\r\n\r\n        // const firestore = firebase.firestore();\r\n\t\tasync function getUserObj(){\r\n\t\t\ttry{\r\n\t\t\t\tconst userObjSnapshot = await firestore.collection(\"users\").doc(props.userDoc.uid).get();\r\n\t\t\t\tconst userObj = userObjSnapshot.data();\r\n\t\t\t\tprops.setUserDoc(userObj);\r\n\t\t\t\tconsole.log(\"getUserObj worked\");\r\n\t\t\t\tconsole.log(props.userDoc);\r\n\t\t\t}catch(e){\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t}\r\n\t\tgetUserObj()\r\n    },[])\r\n\r\n    if(!props.authStatus || !props.userDoc.hasOwnProperty(\"type\")){\r\n        return <Redirect to=\"/account\"/>\r\n    }\r\n\r\n    if(props.userDoc.type !== \"tutee\"){\r\n\t\treturn <Redirect to=\"/account\"/>\r\n\t}\r\n\r\n    return (\r\n        <div className=\"screen\">\r\n            <div className=\"center-hrz\">\r\n               <h1 className=\"screen__header\">{props.match.params.subject} Tutors</h1>\r\n            </div>\r\n            <div className=\"center-hrz--col\">\r\n                    {\r\n                        tutors && tutors.length !== 0 ?\r\n                        tutors.map(el=><TutorCard name={el.name} photoURL={el.photoURL} key={el.uid} uid={el.uid} userObj={el} />) : <Loading/>\r\n                    }\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state=>({\r\n    authStatus: state.authStatus,\r\n    userDetails: state.userDetails,\r\n    userDoc: state.userDoc\r\n  })\r\n  \r\n  const mapDispatchToProps = dispatch=>{\r\n    return bindActionCreators(actionCreators, dispatch)\r\n  }\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Subject);\r\n","export default __webpack_public_path__ + \"static/media/tutero.0e021331.svg\";","export default __webpack_public_path__ + \"static/media/back.11247364.svg\";","export default __webpack_public_path__ + \"static/media/menu.62017810.svg\";","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\nexport default class Menu extends Component{\r\n    constructor(){\r\n        super();\r\n        this.linkClick = this.linkClick.bind(this);\r\n    }\r\n\r\n\r\n    linkClick(event){\r\n        let currentLink = document.querySelector(\".activeLink\");\r\n        if(currentLink){\r\n            currentLink.classList.remove(\"activeLink\")\r\n        }\r\n        event.currentTarget.classList.add(\"activeLink\");\r\n    }\r\n\r\n    componentDidMount(){\r\n        let links = document.querySelectorAll(\".menu--link\");\r\n        links.forEach((link)=>{\r\n            link.addEventListener(\"click\", this.linkClick);\r\n        })\r\n    }\r\n\r\n    render(){\r\n        return (<div className=\"menu--container\">\r\n                   <label htmlFor=\"smenu-1\" className=\"menu--sub\"><i className=\"fas fa-home menu__icon\"></i>Home</label>\r\n                   <input type=\"checkbox\" id=\"smenu-1\" className=\"checkBox\"/>\r\n                    <div className=\"menu--content menu--content__1\">\r\n                            <Link className=\"menu--link\" to=\"/\">Dashboard</Link>\r\n                            <Link className=\"menu--link\" to=\"/directs\">Direct Messages</Link>\r\n                            <Link className=\"menu--link\" to=\"/createRoom\">Create Room</Link>\r\n                    </div>\r\n\r\n                    <label htmlFor=\"smenu-2\" className=\"menu--sub\"><i className=\"far fa-user menu__icon\"></i>User</label>\r\n                    <input type=\"checkbox\" id=\"smenu-2\" className=\"checkBox\"/>\r\n                    <div className=\"menu--content menu--content__2\">\r\n                            <Link className=\"menu--link\" to=\"/account\"><span>My Account</span></Link>\r\n                            {/* <Link className=\"menu--link\" to=\"/test\"><span>Test(For dev purposes)</span></Link> */}\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            )\r\n    }\r\n}\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport firebase from 'firebase/app';\r\nimport moment from \"moment\";\r\nimport RandomUser from \"../../assets/randomuser.png\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\n\r\nconst MessageThumb = (props) => {\r\n    const [latest, setLatest] = useState(\"\");\r\n    const [latestTimeState, setLatestTimeState] = useState(\"\");\r\n    const image = \"https://randomuser.me/api/portraits/women/39.jpg\";\r\n\r\n    useEffect(()=>{\r\n        //fetch latest message\r\n\r\n        const firestore = firebase.firestore();\r\n\r\n        async function fetchMessages(){\r\n            try{\r\n                const messagesSnapshot = await firestore.collection(\"messages\").doc(props.convoObj.convoID).get();\r\n                const messageArr = messagesSnapshot.data().messagesArr;\r\n                const latestMessage = messageArr[messageArr.length - 1].msg;  \r\n                const latestTime = messageArr[messageArr.length - 1].timestamp;  \r\n                setLatest(latestMessage);\r\n                setLatestTimeState(JSON.parse(latestTime));\r\n            }catch(e){\r\n                console.log(e)\r\n            }\r\n        }\r\n\r\n        fetchMessages();\r\n    },[])\r\n\r\n\r\n    \r\n    return (\r\n        <div className=\"messageThumb u-margin-bottom\">\r\n           \r\n            <div style={{backgroundImage: `url(${props.convoObj.photoURL})`}} className=\"messageThumb__image\">\r\n            </div>\r\n            <div>\r\n                <p className=\"messageThumb__name\">{props.convoObj.name}</p>\r\n                <p className=\"messageThumb__message\">{latest}</p>\r\n                <p className=\"messageThumb__time\">{moment(latestTimeState).calendar()}</p>\r\n            </div>\r\n            <div>\r\n                <Link to={`/direct/${props.convoObj.convoID}`}><button className=\"buttonn\">DM</button></Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MessageThumb\r\n","import React, {useEffect, useState} from 'react';\r\nimport {connect} from \"react-redux\";      \r\nimport * as actionCreators from \"../../redux/actions\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport {Redirect, Route, Link} from \"react-router-dom\";\r\nimport firebase from 'firebase/app';\r\nimport MessageThumb from './MessageThumb';\r\nimport Loading from \"../Loading\";\r\n\r\n\r\n\r\nconst DirectMessages = (props) => {\r\n    const firestore = firebase.firestore();\r\n    const [dms, setDms] = useState([]);\r\n    //fetch the userDoc from firestore\r\n\r\n\r\n    useEffect(()=>{\r\n        async function fetchDoc(){\r\n            try{\r\n                const newUserDocSnapShot = await firestore.collection(\"users\").doc(props.userDoc.uid).get();\r\n                const newUserDoc = newUserDocSnapShot.data();\r\n                setDms(newUserDoc.dms);\r\n            }catch(e){\r\n                console.log(e);\r\n            }\r\n        }\r\n\r\n        fetchDoc();\r\n\r\n    },[]);\r\n\r\n    if(!props.authStatus || !props.userDoc.hasOwnProperty(\"type\")){\r\n        return <Redirect to=\"/account\"/>\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"screen\">\r\n            <div className=\"center-hrz\">\r\n                <h1 className=\"screen__header\">Your Direct Messages</h1>\r\n            </div>\r\n            <div className=\"center-hrz--col\">\r\n                {\r\n                    dms ? dms.length !== 0 ? dms.map(el=><MessageThumb key={el.convoID} convoObj={el}/>) : <Loading/> : <p>No <details></details></p>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state=>({\r\n    authStatus: state.authStatus,\r\n    userDetails: state.userDetails,\r\n    userDoc: state.userDoc\r\n  })\r\n  \r\n  const mapDispatchToProps = dispatch=>{\r\n    return bindActionCreators(actionCreators, dispatch)\r\n  }\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DirectMessages);\r\n","import React, {useState} from 'react';\r\nimport {connect} from \"react-redux\";      \r\nimport * as actionCreators from \"../../redux/actions\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport { nanoid } from 'nanoid';\r\nimport firebase from 'firebase/app';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Loading from '../Loading';\r\n\r\n\r\nconst RequestForm = (props) => {\r\n    const history = useHistory();\r\n    const tutorID = props.match.params.tutorID;\r\n    const submitTime = JSON.stringify(new Date());\r\n    const [chosenDate, onChangeDate] = useState(new Date());\r\n    const [subject, setSubject] = useState(\"\");\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const setSubjectFunc = (e)=>{\r\n        setSubject(e.target.value);\r\n    }\r\n\r\n    const handleSubmit = (e)=>{\r\n        e.preventDefault();\r\n        setIsLoading(true);\r\n        const requestID = nanoid(12);\r\n        let tutorObj, tuteemineObj;\r\n        const firestore = firebase.firestore();\r\n        //create 2 reuquest forms, one for your userDoc, and another for the other user's doc\r\n\r\n        //add to your userDoc\r\n         async function addToMine(){\r\n             try{\r\n              //collect the otherUser's object\r\n                const receipt = await firestore.collection(\"tutors\").doc(tutorID).get();\r\n                tutorObj = receipt.data();\r\n                //my request object\r\n                const myObj = {\r\n                    tutor: tutorObj,\r\n                    requestID,\r\n                    requestedDateTime: JSON.stringify(chosenDate),\r\n                    subject,\r\n                    link: \"\",\r\n                    submitTime,\r\n                    status: \"pending\"\r\n                }\r\n\r\n                //submit to my user object\r\n                const submission = await firestore.collection(\"users\").doc(props.userDoc.uid).update({\r\n                    requests: firebase.firestore.FieldValue.arrayUnion(myObj)\r\n                })\r\n                setIsLoading(false);\r\n                history.push('/');\r\n             }catch(e){\r\n                 console.log(e)\r\n             }\r\n         }\r\n         \r\n\r\n        //add to the otherUsers Doc\r\n\r\n        async function addToTutors(){\r\n            try{\r\n            //collect our tutee object\r\n            const receipt = await firestore.collection(\"tutees\").doc(props.userDoc.uid).get();\r\n            tuteemineObj = receipt.data();\r\n                const theirObj = {\r\n                    tutee: tuteemineObj,\r\n                    requestID,\r\n                    requestedDateTime: JSON.stringify(chosenDate),\r\n                    subject,\r\n                    link: \"\",\r\n                    submitTime,\r\n                    status: \"pending\"\r\n                }\r\n\r\n                const submission = await firestore.collection(\"users\").doc(tutorID).update({\r\n                    requests: firebase.firestore.FieldValue.arrayUnion(theirObj)\r\n                });\r\n            console.log(theirObj);\r\n            addToMine()\r\n\r\n            }catch(e){\r\n                console.log(e)\r\n            }\r\n        }\r\n        addToTutors();\r\n    }\r\n\r\n    \r\n\r\n    return (\r\n        <div className=\"screen\">\r\n            <div className=\"center-hrz\">\r\n                <h1 className=\"screen__header\">Request a New Tutorial</h1>\r\n            </div>\r\n\r\n            \r\n                <form onSubmit={handleSubmit}>\r\n                    <div className=\"center-hrz--col requestForm\">\r\n                         <input type=\"text\" placeholder=\"Enter Requested Subject\" className=\"subject input-text\" required id=\"subject\" onChange={setSubjectFunc}/>\r\n                          <label htmlFor=\"subject\" className=\"input-label\">Enter Requested Subject</label>\r\n                             <br />\r\n                          {/* <input type=\"text\" placeholder=\"Credentials\" className=\"credentials input-text\" required id=\"credentials-1\"/>\r\n                          <label htmlFor=\"credentials-1\" className=\"input-label\">Credentials</label> */}\r\n                          {/* <input type=\"date\" id=\"date\"/> */}\r\n                          <div className=\"date-time-stamp-bg\">\r\n                            <DateTimePicker\r\n                            onChange={onChangeDate}\r\n                                value={chosenDate}\r\n                                required={true}\r\n                            />\r\n                          </div>\r\n                          <label htmlFor=\"date\" className=\"input-label\">Pick a date and time for the tutorial</label>\r\n                          <br />\r\n                          {\r\n                              !isLoading ? \r\n                              <button type=\"submit\" className=\"button button1\">Submit</button> : \r\n                              <button className=\"buttonn buttonn--nohover\"><Loading size=\"medium\"/></button>\r\n                          }\r\n                           \r\n                    </div>     \r\n                </form>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state=>({\r\n    authStatus: state.authStatus,\r\n    userDetails: state.userDetails,\r\n    userDoc: state.userDoc\r\n  })\r\n  \r\n  const mapDispatchToProps = dispatch=>{\r\n    return bindActionCreators(actionCreators, dispatch)\r\n  }\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RequestForm);\r\n","export default __webpack_public_path__ + \"static/media/tuterolive.6c39b3ce.svg\";","import React, {useEffect, useRef} from 'react';\r\nimport { nanoid } from 'nanoid';\r\nimport TLlogo from \"../../src/assets/tuterolive.svg\";\r\nimport {connect} from \"react-redux\";      \r\nimport * as actionCreators from \"../redux/actions\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst CreateRoom = (props) => {\r\n    const linkRef = useRef();\r\n    linkRef.current =  `https://tutero-live.onrender.com/room/${nanoid(12)}`;\r\n\r\n    if(!props.authStatus || !props.userDoc.hasOwnProperty(\"type\")){\r\n        return <Redirect to=\"/account\"/>\r\n    }\r\n\r\n    return (\r\n        <div className=\"screen\">\r\n            <div className=\"center-hrz\">\r\n                <img src={TLlogo} alt=\"\" className=\"liveLogo\"/>\r\n            </div>\r\n\r\n            <div class=\"center-item-horizontal\">\r\n                <h1 class=\"header\">Go Live</h1>\r\n            </div>\r\n\r\n            <div class=\"center-item-horizontal\">\r\n    <div className=\"card\">\r\n      {/* <center> */}\r\n      <div className=\"center-hrz--col\">\r\n        <p className=\"normal-text\">Visit and share this link to start the virtual tutorial (make sure your tutor/tutee visits the same link)</p>\r\n                <div className=\"link-box\">\r\n                        <p className=\"normal-text u-margin-bottom\"><span style={{fontWeight: \"bold\"}}>Your Room Link Is: </span></p>\r\n\t\t\t\t\t\t\t  <a href={linkRef.current} target=\"_blank\" className=\"normal-text green-text \" style={{backgroundColor: '#1e1e1e', padding: \"1rem\", borderRadius: \"20px\"}}>{linkRef.current}</a>\r\n                    <br/>\r\n                </div>\r\n            {/* </center> */}\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = state=>({\r\n    authStatus: state.authStatus,\r\n    userDetails: state.userDetails,\r\n    userDoc: state.userDoc\r\n  })\r\n  \r\n  const mapDispatchToProps = dispatch=>{\r\n    return bindActionCreators(actionCreators, dispatch)\r\n  }\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateRoom)\r\n","import React, {useState, useRef, useContext, useEffect} from 'react';\r\nimport Room from \"./Components/Chat/Room\";\r\nimport Account from './Components/Account';\r\nimport {connect} from \"react-redux\";      \r\nimport * as actionCreators from \"./redux/actions\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport {compose} from \"redux\";\r\nimport {Route, Link, } from \"react-router-dom\";\r\nimport Home from './Components/Home';\r\nimport Subject from './Components/Dashboard/Subject';\r\nimport tuteroLogo  from \"./assets/tutero.svg\";\r\nimport BackIcon from \"./assets/back.svg\";\r\nimport MenuIcon from \"./assets/menu.svg\";\r\nimport Menu from \"./Components/Menu\";\r\nimport DirectMessages from './Components/Chat/DirectMessages';\r\nimport RequestForm from './Components/Request/RequestForm';\r\nimport Testt from './Components/Testt';\r\nimport CreateRoom from \"./Components/CreateRoom\";\r\n\r\n\r\nfunction App(props) {\r\n  const navRef = useRef(),\r\n        navCloseRef = useRef(),\r\n        dashboardRef = useRef();\r\n\r\n        const linkClick =()=>{\r\n          let currentLink = document.querySelector(\".activeLink\");\r\n          if(currentLink){\r\n              currentLink.classList.remove(\"activeLink\")\r\n          }\r\n      }\r\n\r\n       const closeNav =()=>{\r\n          const nav = navRef.current; ///expand this;\r\n          const menus = document.querySelectorAll(\".menu--sub\");///give these a display of block;\r\n          // const bottomDiv = bottomDivRef.current//give this a display of block;\r\n          const closeNav = navCloseRef.current;\r\n          \r\n          menus.forEach(e=>{\r\n              e.style.display= \"none\";\r\n          })\r\n          // bottomDiv.style.display = \"none\";\r\n          // bottomDiv.style.opacity = \"0\";\r\n          nav.style.animation = \"collapse 0.3s forwards\";\r\n          closeNav.style.display = \"none\";\r\n      }\r\n\r\n      const expandNav=()=>{\r\n        const nav = navRef.current; ///expand this;\r\n        const menus = document.querySelectorAll(\".menu--sub\");///give these a display of block;\r\n        // const bottomDiv =this.bottomDivRef.current//give this a display of block;\r\n        const closeNav = navCloseRef.current;\r\n\r\n        menus.forEach(e=>{\r\n            e.style.display= \"block\";\r\n        })\r\n\r\n        // bottomDiv.style.display = \"block\";\r\n        // bottomDiv.style.opacity = \"100%\";\r\n\r\n        nav.style.animation = \"expand 0.4s forwards\";\r\n        closeNav.style.display = \"block\";\r\n    }\r\n\r\n\r\n      useEffect(()=>{\r\n        let menuLinks = document.querySelectorAll(\".menu--link\");\r\n        const x = window.matchMedia(\"(max-width: 600px)\");\r\n\r\n        //query function \r\n        let closeNavinQ = (x)=>{\r\n            if(x.matches){\r\n                menuLinks.forEach((e)=>{\r\n                    e.addEventListener(\"click\", closeNav);\r\n                })\r\n            }\r\n        }\r\n\r\n    //create the initial listener, runs when the app is started\r\n    closeNavinQ(x);\r\n    //create the listener for state change, that runs the query function on every state change\r\n    x.addListener(closeNavinQ);\r\n    x.addListener(()=>{\r\n        window.location.reload();\r\n    })\r\n      },[])\r\n  \r\n\r\n  return (\r\n    <>  \r\n      <div className=\"home\">\r\n              {/* <Link to=\"/account\">Go to account</Link> */}\r\n              <div id=\"navigation\" ref={navRef}>\r\n                    <img src={BackIcon} alt=\"\" className=\"nav--icon\" id=\"nav--close\" onClick={closeNav} ref={navCloseRef}/>\r\n                      <Link to=\"/\" onClick={linkClick}><img className=\"nav__logo\" src={tuteroLogo} alt=\"logo\"/></Link>\r\n                      <Menu/>\r\n                      {/* <BottomDiv ref={this.bottomDivRef} profile={this.props.profile}/> */}\r\n                </div>\r\n                <div id=\"dashboard\">\r\n                    <img src={MenuIcon} className=\"nav--icon\" id=\"nav--open\" alt=\"\" onClick={expandNav}/>\r\n                    <Route component={Room} exact path=\"/direct/:roomName\"/>\r\n                    <Route component={Account} exact path=\"/account\"/>\r\n                    <Route component={Home} exact path=\"/\"/>\r\n                    <Route component={Subject} exact path=\"/subject/:subject\"/>\r\n                    <Route component={DirectMessages} exact path=\"/directs\"/>\r\n                    <Route component={RequestForm} exact path=\"/request/:tutorID\"/>\r\n                    <Route component={CreateRoom} exact path=\"/createRoom\"/>\r\n                    {/* <Route component={Testt} exact path=\"/test\"/> */}\r\n                </div>\r\n\r\n        </div> \r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state=>({\r\n  authStatus: state.authStatus,\r\n  userDetails: state.userDetails,\r\n  userDoc: state.userDoc\r\n})\r\n\r\nconst mapDispatchToProps = dispatch=>{\r\n  return bindActionCreators(actionCreators, dispatch)\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  // firestoreConnect(props=>[\r\n  //   {collection: \"Test\"}\r\n  // ])\r\n)(App);\r\n","import {persistReducer} from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport { combineReducers } from \"redux\";\r\nimport { firestoreReducer } from \"redux-firestore\"; //will help us sync the firestore with our aplication state.\r\n\r\n\r\nconst persistConfig  = {\r\n    key: \"root\",\r\n    storage,\r\n    whiteList: [\"userDetails\", \"userDoc\"]\r\n}\r\n\r\n\r\nconst countReducer = (state = 0, action)=>{\r\n    switch(action.type){\r\n        case \"INCREMENT\":\r\n            return state + action.number\r\n        case \"DECREMENT\": \r\n            return state - action.number\r\n        default: //niks  \r\n            return state           \r\n    }\r\n}\r\n\r\n\r\n\r\nconst authReducer = (state=false, action)=>{\r\n    switch(action.type){\r\n        case \"SET_AUTH_STATUS\": \r\n             return action.status\r\n        default: \r\n             return state\r\n    }\r\n}\r\n\r\nconst userDetailsReducer = (state={}, action)=>{\r\n    switch(action.type){\r\n        case \"SET_DETAILS\": \r\n            return action.details \r\n        default: \r\n            return state\r\n    }\r\n}\r\n\r\nconst userDocReducer = (state={}, action)=>{\r\n    switch(action.type){\r\n        case \"SET_USER_DOC\": \r\n            return action.doc\r\n        default: \r\n            return state\r\n    }\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n    count: countReducer,\r\n    firestore: firestoreReducer,\r\n    authStatus: authReducer,\r\n    userDetails: userDetailsReducer,\r\n    userDoc: userDocReducer\r\n})\r\n\r\nexport default persistReducer(persistConfig,rootReducer);\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/storage\";\r\n\r\n\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCsGd-oFmUb62kI5LQxXBSez54HfX3izWw\",\r\n    authDomain: \"blabblev2.firebaseapp.com\",\r\n    projectId: \"blabblev2\",\r\n    storageBucket: \"blabblev2.appspot.com\",\r\n    messagingSenderId: \"271112976283\",\r\n    appId: \"1:271112976283:web:7cb01e0d4e77a3809dd33e\",\r\n    measurementId: \"G-DHDDEJXQDF\"\r\n  };\r\n\r\n\r\n  firebase.initializeApp(firebaseConfig);\r\n\r\n  export default firebase","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport SocketContextProvider from './Context/SocketContext';\r\nimport {BrowserRouter, Route} from \"react-router-dom\";\r\nimport Room from \"./Components/Chat/Room\"\r\nimport UIDContextProvider from './Context/UIDContext';\r\nimport \"./sass/main.scss\";\r\nimport {createStore, applyMiddleware, compose} from \"redux\";\r\nimport rootReducer from \"./redux/reducers\";\r\nimport {Provider} from \"react-redux\";\r\nimport {persistStore} from \"redux-persist\"; \r\nimport {createFirestoreInstance} from \"redux-firestore\";//interact with firestore\r\nimport {ReactReduxFirebaseProvider} from \"react-redux-firebase\"; //interact with firebase\r\nimport fbConfig from \"./config/fbConfig\";\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/firestore'\r\nimport Account from './Components/Account';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\n\r\n\r\n//create the store==>state will be stored here\r\nlet store = createStore(rootReducer);\r\n\r\nconst persistor = persistStore(store)\r\n  const profileProps = {\r\n    useFirestoreForProfile: true,\r\n    userProfile: \"users\"\r\n}\r\n\r\n  const rrfProps = {\r\n    firebase,\r\n    config: profileProps,\r\n    dispatch: store.dispatch,\r\n    createFirestoreInstance\r\n  };\r\n\r\n\r\n\r\nReactDOM.render(\r\n      <Provider store={store}>   \r\n       <PersistGate persistor={persistor}>\r\n        <ReactReduxFirebaseProvider {...rrfProps}>\r\n                <BrowserRouter>\r\n                  <SocketContextProvider>\r\n                    <UIDContextProvider>\r\n                        <App/>\r\n                    </UIDContextProvider>\r\n                  </SocketContextProvider>\r\n                </BrowserRouter>\r\n          </ReactReduxFirebaseProvider>\r\n       </PersistGate>\r\n        \r\n    </Provider>\r\n  , document.getElementById('root')\r\n);"],"sourceRoot":""}